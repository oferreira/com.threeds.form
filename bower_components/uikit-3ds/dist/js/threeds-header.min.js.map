{"version":3,"sources":["threeds-header.min.js"],"names":["Setting3DS","options","this","$","extend","DEFAULTS","prototype","VERSION","instance","getInstance","undefined","byString","o","s","replace","a","split","i","n","length","k","set","key","value","get","UserService","info","callback","ajaxSetup","crossDomain","xhrFields","withCredentials","ajax","type","dataType","url","getUserInfoApiURL","success","data","error","resultat","statut","erreur","indexOf","UrlService","topbar","service","getTopbarInfoApiURL","document","trigger","CacheService","name","eval","concat","path","localStorage","JSON","parse","e","String","capitalize","charAt","toUpperCase","slice","ServiceManager","apply","jQuery","UserCookie","WatchJS","watch","prop","action","newvalue","oldvalue","_createCookie","user_connected_callback","user_disconnected_callback","auth","AUTH_COOKIE_NAME","domain","lifetime","api_error_callback","force","isConnected","_validCookie","_loadCookie","self","hasOwnProperty","_setCookie","_setData","_getCookie","logout","_isNewData","oldData","newData","lastName","firstName","userStatus","date","Date","setTime","getTime","expires","toGMTString","cookie","nameEQ","ca","c","substring","trigram","$return","err","factory","exports","module","define","amd","window","unwatch","callWatchers","clearTimerID","timerID","timeouts","noMore","useDirtyCheck","lengthsubjects","dirtyChecklist","pendingChanges","supportDefineProperty","Object","defineProperty","ex","isFunction","functionToCheck","getType","toString","call","isArray","obj","isObject","getObjDiff","b","aplus","bplus","push","j","added","removed","clone","copy","constructor","attr","defineGetAndSet","propName","getter","setter","observe","changes","forEach","change","object","enumerable","configurable","e2","__defineGetter__","__defineSetter__","e3","observeDirtyChanges","defineProp","writable","orig","arguments","watchAll","watchMany","watchOne","watcher","level","addNRemove","defineWatcher","props","pushToLengthSubjects","unwatchAll","unwatchMany","unwatchOne","unwatchPropsInObject","obj2","prop2","getTimerID","setTimeout","registerTimeout","fn","trackChange","trackProperty","trackObject","recursive","lastTimerID","isArr","newValue","oldValue","splices","index","deleteCount","addedCount","deleted","newWatcher","watchers","watchFunctions","addPendingChange","ln","wAll","watchList","val","newval","delayWatcher","oldval","isSuspended","resume","wl","wr","methodNames","defineArrayMethodWatcher","original","methodName","response","start","end","w","splice","removeFromLengthSubjects","removeFromDirtyChecklist","suspend","pendingTimerID","mode","applyPendingChanges","loop","subj","difference","actual","compareValues","state","notInUse","setInterval","onChange","I18n","lang","t","$_i18nData","setLang","i18n","Plugin","option","_relatedTarget","each","$this","Modal","show","element","$body","body","$element","$dialog","find","$backdrop","isShown","originalBodyPad","scrollbarWidth","ignoreBackdropClick","remote","load","proxy","TRANSITION_DURATION","BACKDROP_TRANSITION_DURATION","backdrop","keyboard","toggle","hide","that","Event","relatedTarget","isDefaultPrevented","checkScrollbar","setScrollbar","addClass","escape","resize","on","one","target","is","transition","support","hasClass","parent","appendTo","scrollTop","adjustDialog","offsetWidth","enforceFocus","emulateTransitionEnd","preventDefault","off","removeClass","hideModal","has","which","handleUpdate","iframeLastHeight","setIframeHeight","css","iframeLastWidth","setIframeWidth","resetAdjustments","resetScrollbar","removeBackdrop","remove","animate","doAnimate","createElement","currentTarget","focus","callbackRemove","modalIsOverflowing","scrollHeight","documentElement","clientHeight","paddingLeft","bodyIsOverflowing","paddingRight","fullWindowWidth","innerWidth","documentElementRect","getBoundingClientRect","right","Math","abs","left","clientWidth","measureScrollbar","bodyPad","parseInt","style","scrollDiv","className","append","removeChild","old","modal","Constructor","noConflict","href","$target","test","showEvent","transitionEnd","el","transEndEventNames","WebkitTransition","MozTransition","OTransition","duration","called","$el","event","special","bsTransitionEnd","bindType","delegateType","handle","handleObj","handler","header3ds","opt","bindTopbar","$_modal","modalId","signInURL","pcss","click","myAccountURL","location","bindLinkOpenModal","console","log","html","defaults","bgcolor","secure","website","language","hasfooter","haslogin","hascompass","hassocial","hastrigram","hasconnect","hasborder","margin","width","atg","apiURL","debug","ErrorEventListenerInterval","ErrorEventListenerLimit","$setting","$userCookie","optionsTmp","soc","u","addEventListener","nbErrorPropertyName","userCookie","unbind","isok","arr","isbool","defaultVal","retVal","m","w_unit","match","nmbr","mediaqueries","params","baseurlLang","baseurl","baseurl_nolang","compassURL","createQAList","links","createItemLink","tag","displaySocial","$list","v","displayQuickAccess","displayID","customMediaQueries","mq_style","min_rule","max_rule","mq_i","min","max","rules","displayFooterLinks","copy_begin","getFullYear","$links","$copy","$pipe","last","$logo","$btnSocial","$sliderSocial","stop","easing","$trigram","$connect","$modal","$layerID","$compassA","$compass","$quickAccess","$rightSide","$header","$headerWinner","$headerW","$footer","$footerW","$footerLinks","iconClass","prependTo","display_social_btn"],"mappings":"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","file":"threeds-header.min.js","sourcesContent":["\n\n\n\n\nvar Setting3DS = function (options) {\n    this.options = $.extend({}, this.DEFAULTS, options);\n};\n\nSetting3DS.prototype.VERSION = '0.0.1'\nSetting3DS.prototype.DEFAULTS = {}\n\nSetting3DS.prototype.options = {};\nSetting3DS.prototype.instance = null;\n\nSetting3DS.prototype.getInstance = function (options) {\n    if (Setting3DS.prototype.instance === undefined || Setting3DS.prototype.instance === null) {\n        Setting3DS.prototype.instance = new Setting3DS(options);\n    }\n    return Setting3DS.prototype.instance;\n}\n\nSetting3DS.prototype.byString = function (o, s) {\n    s = s.replace(/\\[(\\w+)\\]/g, '.$1');\n    s = s.replace(/^\\./, '');          \n    var a = s.split('.');\n    for (var i = 0, n = a.length; i < n; ++i) {\n        var k = a[i];\n        if (k in o) {\n            o = o[k];\n        } else {\n            return;\n        }\n    }\n    return o;\n};\n\nSetting3DS.prototype.set = function (key, value) {\n    this.options[key] = value;\n    return this;\n}\n\nSetting3DS.prototype.get = function (key) {\n    return Setting3DS.prototype.byString(this.options, key);\n}\n\n\n\n\nvar UserService = function (options) {\n    this.options = $.extend({}, this.DEFAULTS, options);\n};\n\nUserService.prototype.VERSION = '0.0.1'\nUserService.prototype.DEFAULTS = {}\n\nUserService.prototype.instance = null;\n\nUserService.prototype.getInstance = function (options) {\n    if (UserService.prototype.instance === undefined || UserService.prototype.instance === null) {\n        UserService.prototype.instance = new UserService(options);\n    }\n    return UserService.prototype.instance;\n}\n\nUserService.prototype.info = function (callback) {\n    $.ajaxSetup({\n        crossDomain: true,\n        xhrFields: {\n            withCredentials: true\n        }\n    });\n    $.ajax({\n        type: \"GET\",\n        crossDomain: true,\n        dataType: \"json\",\n        url: this.getUserInfoApiURL(),\n        success: function (data) {\n            callback(data)\n        },\n        error: function (resultat, statut, erreur) {\n            callback(false)\n        }\n    });\n}\n\nUserService.prototype.getUserInfoApiURL = function () {\n    if ((Setting3DS.prototype.getInstance().get('atg.apiURL').indexOf('localhost') > -1)) {\n        return Setting3DS.prototype.getInstance().get('atg.apiURL') + \"/api/get-user-info/success.json\";\n    }\n    return Setting3DS.prototype.getInstance().get('atg.apiURL') + \"/data/jsp/users/getUserInfo.jsp\";\n}\n\n\n\n\nvar UrlService = function (options) {\n    this.options = $.extend({}, this.DEFAULTS, options);\n};\n\nUrlService.prototype.VERSION = '0.0.1'\nUrlService.prototype.DEFAULTS = {}\n\nUrlService.prototype.instance = null;\n\nUrlService.prototype.getInstance = function (options) {\n    if (UrlService.prototype.instance === undefined || UrlService.prototype.instance === null) {\n        UrlService.prototype.instance = new UrlService(options);\n    }\n    return UrlService.prototype.instance;\n}\n\nUrlService.prototype.topbar = function (callback) {\n    var data = $.service(\"cache\").get('threeds_header_topbar_url');\n    if ((data === undefined || data === null || data === false) || Setting3DS.prototype.getInstance().get('debug') === true) {\n        $.ajaxSetup({\n            crossDomain: true,\n            xhrFields: {\n                withCredentials: true\n            }\n        });\n        $.ajax({\n            type: \"GET\",\n            crossDomain: true,\n            dataType: \"json\",\n            url: this.getTopbarInfoApiURL(),\n            success: function (data) {\n                $.service(\"cache\").set('threeds_header_topbar_url', data);\n                callback(data);\n            },\n            error: function (resultat, statut, erreur) {\n                $(document).trigger(\"UrlServiceErrorEvent\", [UrlService.prototype.instance, 'topbar', callback]);\n                callback(false)\n            }\n        });\n    } else {\n        callback(data);\n    }\n}\n\nUrlService.prototype.getTopbarInfoApiURL = function () {\n    if ((Setting3DS.prototype.getInstance().get('atg.apiURL').indexOf('localhost') > -1)) {\n        return Setting3DS.prototype.getInstance().get('atg.apiURL') + \"/api/get-topbar-urls/success.json\";\n    }\n    return Setting3DS.prototype.getInstance().get('atg.apiURL') + \"/data/jsp/links/getTopbarURLs.jsp\";\n}\n\n\n\n\nvar CacheService = function (options) {\n    this.options = $.extend({}, this.DEFAULTS, options);\n};\n\nCacheService.prototype.VERSION = '0.0.1'\nCacheService.prototype.DEFAULTS = {}\n\nCacheService.prototype.instance = null;\nCacheService.prototype.getInstance = function (options) {\n    if (CacheService.prototype.instance === undefined || CacheService.prototype.instance === null) {\n        CacheService.prototype.instance = new CacheService(options);\n    }\n    return CacheService.prototype.instance;\n}\n\nCacheService.prototype.set = function (name, value) {\n    if (typeof value === 'object') {\n        eval(\"localStorage.\".concat(name) + \" = JSON.stringify(value);\");\n    } else {\n        eval(\"localStorage.\".concat(name) + \" = value;\");\n    }\n}\n\n\nCacheService.prototype.get = function (path) {\n    var value = CacheService.prototype.byString(localStorage, path);\n    try {\n        value = JSON.parse(value);\n    } catch (e) {\n    }\n    return value;\n}\n\nCacheService.prototype.byString = function (o, s) {\n    s = s.replace(/\\[(\\w+)\\]/g, '.$1');\n    s = s.replace(/^\\./, '');          \n    var a = s.split('.');\n    for (var i = 0, n = a.length; i < n; ++i) {\n        var k = a[i];\n        if (k in o) {\n            o = o[k];\n        } else {\n            return;\n        }\n    }\n    return o;\n};\nString.prototype.capitalize = function () {\n    return this.charAt(0).toUpperCase() + this.slice(1);\n}\n\n\n\n\n\nvar ServiceManager = function () {\n};\n\nString.prototype.capitalize = function () {\n    return this.charAt(0).toUpperCase() + this.slice(1);\n}\nServiceManager.prototype.VERSION = '0.0.1'\nServiceManager.prototype.DEFAULTS = {}\n\nServiceManager.prototype.instance = undefined;\nServiceManager.prototype.getInstance = function () {\n    if (ServiceManager.prototype.instance === undefined || ServiceManager.prototype.instance === null) {\n        ServiceManager.prototype.instance = new ServiceManager();\n    }\n    return ServiceManager.prototype.instance;\n}\n\nServiceManager.prototype.get = function (name, options) {\n    return eval(name.capitalize() + \"Service.prototype.getInstance\").apply(options);\n}\n\njQuery.extend({\n    service: function (name, options) {\n        if (name) {\n            return new ServiceManager.prototype.getInstance().get(name, options);\n        }\n\n        return new ServiceManager.prototype.getInstance();\n    }\n});\n\n\n\n\nvar UserCookie = function (options) {\n    this.options = $.extend({}, this.DEFAULTS, options);\n    WatchJS.watch(this, \"data\", function (prop, action, newvalue, oldvalue) {\n        if (newvalue !== undefined || newvalue !== null) {\n            this._createCookie(newvalue);\n            this.options.user_connected_callback();\n        } else {\n            this.options.user_disconnected_callback();\n        }\n    });\n\n    this.auth();\n};\n\nUserCookie.prototype.AUTH_COOKIE_NAME = '3ds-auth';\nUserCookie.prototype.VERSION = '0.0.1';\nUserCookie.prototype.DEFAULTS = {\n    domain: '',\n    lifetime: (60 * 60 * 24 * 1),\n    path: '/',\n    \"user_connected_callback\": function () {\n        $(document).trigger(\"3DSUserHasConnectedEvent\", [UserCookie.prototype.instance]);\n    },\n    \"user_disconnected_callback\": function () {\n        $(document).trigger(\"3DSUserHasDisconnectedEvent\", [UserCookie.prototype.instance]);\n    },\n    \"api_error_callback\": function () {\n        $(document).trigger(\"3DSApiErrorEvent\", [UserCookie.prototype.instance]);\n    }\n}\n\nUserCookie.prototype.options = {};\nUserCookie.prototype.data = null;\nUserCookie.prototype.instance = null;\n\nUserCookie.prototype.getInstance = function (options) {\n    if (UserCookie.prototype.instance === undefined || UserCookie.prototype.instance === null) {\n        UserCookie.prototype.instance = new UserCookie(options);\n    }\n    return UserCookie.prototype.instance;\n}\n\nUserCookie.prototype.auth = function (force) {\n    if (this.isConnected() && this._validCookie() && !force) {\n        return this._loadCookie();\n    } else if (this._validCookie() && !force) {\n        this._loadCookie();\n    }\n\n    var self = this;\n\n    $.service('user').info((function (data) {\n        if (!data) {\n            self._setCookie(self.AUTH_COOKIE_NAME, false);\n            self.options.api_error_callback();\n        } else if (data.hasOwnProperty('error')) {\n            self._setCookie(self.AUTH_COOKIE_NAME, false);\n            self.options.user_disconnected_callback();\n        } else {\n            self._setData(data);\n        }\n    }));\n}\n\nUserCookie.prototype.isConnected = function () {\n    if (this._getCookie(this.AUTH_COOKIE_NAME) == true) {\n        return true;\n    }\n}\n\nUserCookie.prototype.logout = function () {\n    this._setCookie(this.AUTH_COOKIE_NAME, false);\n    this.options.user_disconnected_callback();\n}\n\nUserCookie.prototype._setData = function (data) {\n    if (data === undefined || data === null || !data) {\n        this.data = null;\n    } else if (this._isNewData(this.data, data)) {\n        this.data = data;\n    }\n}\n\nUserCookie.prototype._isNewData = function (oldData, newData) {\n    if (oldData === undefined || oldData === null || !oldData) {\n        return true;\n    } else {\n        for (var k in newData) {\n            if (!oldData.hasOwnProperty(k) || oldData[k] != newData[k]) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n\nUserCookie.prototype._validCookie = function () {\n    if (this._getCookie('lastName') === (undefined || null)) {\n        return false;\n    } else if (this._getCookie('firstName') === (undefined || null)) {\n        return false;\n    } else if (this._getCookie('userStatus') === (undefined || null)) {\n        return false;\n    }\n\n    return true;\n}\n\nUserCookie.prototype._loadCookie = function () {\n    var data = {\n        \"lastName\": this._getCookie('lastName'),\n        \"firstName\": this._getCookie('firstName'),\n        \"userStatus\": this._getCookie('userStatus'),\n    };\n\n    this._setData(data);\n}\n\nUserCookie.prototype._createCookie = function (data) {\n    for (k in data) {\n        this._setCookie(k, data[k]);\n    }\n    this._setCookie(this.AUTH_COOKIE_NAME, true);\n}\n\n\nUserCookie.prototype._setCookie = function (name, value) {\n    var date = new Date();\n    date.setTime(date.getTime() + (this.options.lifetime));\n    var expires = \"; expires=\" + date.toGMTString();\n\n    var cookie = name + \"=\" + value + expires + \"; path=\" + this.options.path;\n    if (this.options.domain !== undefined && this.options.domain !== null && this.options.domain != '') {\n        cookie += \"; domain=\" + this.options.domain;\n    }\n    document.cookie = cookie;\n}\n\nUserCookie.prototype._getCookie = function (name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n}\n\nUserCookie.prototype.trigram = function () {\n    try {\n        var $return = this._getCookie('firstName').charAt(0).toUpperCase() + this._getCookie('lastName').charAt(0).toUpperCase();\n    } catch (err) {\n        return '';\n    }\n    return $return;\n\n};\n\n(function (factory) {\n    if (typeof exports === 'object') {\n       \n       \n       \n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n       \n        define(factory);\n    } else {\n       \n        window.WatchJS = factory();\n        window.watch = window.WatchJS.watch;\n        window.unwatch = window.WatchJS.unwatch;\n        window.callWatchers = window.WatchJS.callWatchers;\n    }\n}(function () {\n    var WatchJS = {\n            noMore: false,       \n            useDirtyCheck: false\n        },\n        lengthsubjects = [];\n\n    var dirtyChecklist = [];\n    var pendingChanges = [];\n\n    var supportDefineProperty = false;\n    try {\n        supportDefineProperty = Object.defineProperty && Object.defineProperty({},'x', {});\n    } catch(ex) {    }\n\n    var isFunction = function (functionToCheck) {\n        var getType = {};\n        return functionToCheck && getType.toString.call(functionToCheck) == '[object Function]';\n    };\n\n    var isInt = function (x) {\n        return x % 1 === 0;\n    };\n\n    var isArray = function(obj) {\n        return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n\n    var isObject = function(obj) {\n        return {}.toString.apply(obj) === '[object Object]';\n    };\n\n    var getObjDiff = function(a, b){\n        var aplus = [],\n            bplus = [];\n\n        if(!(typeof a == \"string\") && !(typeof b == \"string\")){\n\n            if (isArray(a)) {\n                for (var i=0; i<a.length; i++) {\n                    if (b[i] === undefined) aplus.push(i);\n                }\n            } else {\n                for(var i in a){\n                    if (a.hasOwnProperty(i)) {\n                        if(b[i] === undefined) {\n                            aplus.push(i);\n                        }\n                    }\n                }\n            }\n\n            if (isArray(b)) {\n                for (var j=0; j<b.length; j++) {\n                    if (a[j] === undefined) bplus.push(j);\n                }\n            } else {\n                for(var j in b){\n                    if (b.hasOwnProperty(j)) {\n                        if(a[j] === undefined) {\n                            bplus.push(j);\n                        }\n                    }\n                }\n            }\n        }\n\n        return {\n            added: aplus,\n            removed: bplus\n        }\n    };\n\n    var clone = function(obj){\n\n        if (null == obj || \"object\" != typeof obj) {\n            return obj;\n        }\n\n        var copy = obj.constructor();\n\n        for (var attr in obj) {\n            copy[attr] = obj[attr];\n        }\n\n        return copy;\n\n    }\n\n    var defineGetAndSet = function (obj, propName, getter, setter) {\n        try {\n            Object.observe(obj, function(changes) {\n                changes.forEach(function(change) {\n                    if (change.name === propName) {\n                        setter(change.object[change.name]);\n                    }\n                });\n            });\n        }\n        catch(e) {\n            try {\n                Object.defineProperty(obj, propName, {\n                    get: getter,\n                    set: function(value) {\n                        setter.call(this,value,true);\n                    },\n                    enumerable: true,\n                    configurable: true\n                });\n            }\n            catch(e2) {\n                try{\n                    Object.prototype.__defineGetter__.call(obj, propName, getter);\n                    Object.prototype.__defineSetter__.call(obj, propName, function(value) {\n                        setter.call(this,value,true);\n                    });\n                }\n                catch(e3) {\n                    observeDirtyChanges(obj,propName,setter);\n                   \n                }\n            }\n        }\n    };\n\n    var defineProp = function (obj, propName, value) {\n        try {\n            Object.defineProperty(obj, propName, {\n                enumerable: false,\n                configurable: true,\n                writable: false,\n                value: value\n            });\n        } catch(error) {\n            obj[propName] = value;\n        }\n    };\n\n    var observeDirtyChanges = function(obj,propName,setter) {\n        dirtyChecklist[dirtyChecklist.length] = {\n            prop:       propName,\n            object:     obj,\n            orig:       clone(obj[propName]),\n            callback:   setter\n        }\n    }\n\n    var watch = function () {\n\n        if (isFunction(arguments[1])) {\n            watchAll.apply(this, arguments);\n        } else if (isArray(arguments[1])) {\n            watchMany.apply(this, arguments);\n        } else {\n            watchOne.apply(this, arguments);\n        }\n\n    };\n\n\n    var watchAll = function (obj, watcher, level, addNRemove) {\n\n        if ((typeof obj == \"string\") || (!(obj instanceof Object) && !isArray(obj))) {\n            return;\n        }\n\n        if(isArray(obj)) {\n            defineWatcher(obj, \"__watchall__\", watcher, level);\n            if (level===undefined||level > 0) {\n                for (var prop = 0; prop < obj.length; prop++) {\n                    watchAll(obj[prop],watcher,level, addNRemove);\n                }\n            }\n        }\n        else {\n            var prop,props = [];\n            for (prop in obj) {\n                if (prop == \"$val\" || (!supportDefineProperty && prop === 'watchers')) {\n                    continue;\n                }\n\n                if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n                    props.push(prop);\n                }\n            }\n            watchMany(obj, props, watcher, level, addNRemove);\n        }\n\n\n        if (addNRemove) {\n            pushToLengthSubjects(obj, \"$$watchlengthsubjectroot\", watcher, level);\n        }\n    };\n\n\n    var watchMany = function (obj, props, watcher, level, addNRemove) {\n\n        if ((typeof obj == \"string\") || (!(obj instanceof Object) && !isArray(obj))) {\n            return;\n        }\n\n        for (var i=0; i<props.length; i++) {\n            var prop = props[i];\n            watchOne(obj, prop, watcher, level, addNRemove);\n        }\n\n    };\n\n    var watchOne = function (obj, prop, watcher, level, addNRemove) {\n        if ((typeof obj == \"string\") || (!(obj instanceof Object) && !isArray(obj))) {\n            return;\n        }\n\n        if(isFunction(obj[prop])) {\n            return;\n        }\n        if(obj[prop] != null && (level === undefined || level > 0)){\n            watchAll(obj[prop], watcher, level!==undefined? level-1 : level);\n        }\n\n        defineWatcher(obj, prop, watcher, level);\n\n        if(addNRemove && (level === undefined || level > 0)){\n            pushToLengthSubjects(obj, prop, watcher, level);\n        }\n\n    };\n\n    var unwatch = function () {\n\n        if (isFunction(arguments[1])) {\n            unwatchAll.apply(this, arguments);\n        } else if (isArray(arguments[1])) {\n            unwatchMany.apply(this, arguments);\n        } else {\n            unwatchOne.apply(this, arguments);\n        }\n\n    };\n\n    var unwatchAll = function (obj, watcher) {\n\n        if (obj instanceof String || (!(obj instanceof Object) && !isArray(obj))) {\n            return;\n        }\n\n        if (isArray(obj)) {\n            var props = ['__watchall__'];\n            for (var prop = 0; prop < obj.length; prop++) {\n                props.push(prop);\n            }\n            unwatchMany(obj, props, watcher);\n        } else {\n            var unwatchPropsInObject = function (obj2) {\n                var props = [];\n                for (var prop2 in obj2) {\n                    if (obj2.hasOwnProperty(prop2)) {\n                        if (obj2[prop2] instanceof Object) {\n                            unwatchPropsInObject(obj2[prop2]);\n                        } else {\n                            props.push(prop2);\n                        }\n                    }\n                }\n                unwatchMany(obj2, props, watcher);\n            };\n            unwatchPropsInObject(obj);\n        }\n    };\n\n\n    var unwatchMany = function (obj, props, watcher) {\n\n        for (var prop2 in props) {\n            if (props.hasOwnProperty(prop2)) {\n                unwatchOne(obj, props[prop2], watcher);\n            }\n        }\n    };\n\n    var timeouts = [],\n        timerID = null;\n    function clearTimerID() {\n        timerID = null;\n        for(var i=0; i< timeouts.length; i++) {\n            timeouts[i]();\n        }\n        timeouts.length = 0;\n    }\n    var getTimerID= function () {\n        if (!timerID)  {\n            timerID = setTimeout(clearTimerID);\n        }\n        return timerID;\n    }\n    var registerTimeout = function(fn) {\n        if (timerID==null) getTimerID();\n        timeouts[timeouts.length] = fn;\n    }\n\n   \n   \n   \n   \n   \n    var trackChange = function() {\n        var fn = (isFunction(arguments[2])) ? trackProperty : trackObject ;\n        fn.apply(this,arguments);\n    }\n\n   \n    var trackObject= function(obj, callback, recursive, addNRemove) {\n        var change = null,lastTimerID = -1;\n        var isArr = isArray(obj);\n        var level,fn = function(prop, action, newValue, oldValue) {\n            var timerID = getTimerID();\n            if (lastTimerID!==timerID) {\n                lastTimerID = timerID;\n                change = {\n                    type: 'update'\n                }\n                change['value'] = obj;\n                change['splices'] = null;\n                registerTimeout(function() {\n                    callback.call(this,change);\n                    change = null;\n                });\n            }\n           \n            if (isArr && obj === this && change !== null)  {\n                if (action==='pop'||action==='shift') {\n                    newValue = [];\n                    oldValue = [oldValue];\n                }\n                else if (action==='push'||action==='unshift') {\n                    newValue = [newValue];\n                    oldValue = [];\n                }\n                else if (action!=='splice') {\n                    return;\n                }\n                if (!change.splices) change.splices = [];\n                change.splices[change.splices.length] = {\n                    index: prop,\n                    deleteCount: oldValue ? oldValue.length : 0,\n                    addedCount: newValue ? newValue.length : 0,\n                    added: newValue,\n                    deleted: oldValue\n                };\n            }\n\n        }\n        level = (recursive==true) ? undefined : 0;\n        watchAll(obj,fn, level, addNRemove);\n    }\n\n   \n    var trackProperty = function(obj,prop,callback,recursive, addNRemove) {\n        if (obj && prop) {\n            watchOne(obj,prop,function(prop, action, newvalue, oldvalue) {\n                var change = {\n                    type: 'update'\n                }\n                change['value'] = newvalue;\n                change['oldvalue'] = oldvalue;\n                if (recursive && isObject(newvalue)||isArray(newvalue)) {\n                    trackObject(newvalue,callback,recursive, addNRemove);\n                }\n                callback.call(this,change);\n            },0)\n\n            if (recursive && isObject(obj[prop])||isArray(obj[prop])) {\n                trackObject(obj[prop],callback,recursive, addNRemove);\n            }\n        }\n    }\n\n\n    var defineWatcher = function (obj, prop, watcher, level) {\n        var newWatcher = false;\n        var isArr = isArray(obj);\n\n        if (!obj.watchers) {\n            defineProp(obj, \"watchers\", {});\n            if (isArr) {\n               \n                watchFunctions(obj, function(index,action,newValue, oldValue) {\n                    addPendingChange(obj, index, action,newValue, oldValue);\n                    if (level !== 0 && newValue && (isObject(newValue) || isArray(newValue))) {\n                        var i,n, ln, wAll, watchList = obj.watchers[prop];\n                        if ((wAll = obj.watchers['__watchall__'])) {\n                            watchList = watchList ? watchList.concat(wAll) : wAll;\n                        }\n                        ln = watchList ?  watchList.length : 0;\n                        for (i = 0; i<ln; i++) {\n                            if (action!=='splice') {\n                                watchAll(newValue, watchList[i], (level===undefined)?level:level-1);\n                            }\n                            else {\n                               \n                                for(n=0; n < newValue.length; n++) {\n                                    watchAll(newValue[n], watchList[i], (level===undefined)?level:level-1);\n                                }\n                            }\n                        }\n                    }\n                });\n            }\n        }\n\n        if (!obj.watchers[prop]) {\n            obj.watchers[prop] = [];\n            if (!isArr) newWatcher = true;\n        }\n\n        for (var i=0; i<obj.watchers[prop].length; i++) {\n            if(obj.watchers[prop][i] === watcher){\n                return;\n            }\n        }\n\n        obj.watchers[prop].push(watcher);\n\n        if (newWatcher) {\n            var val = obj[prop];\n            var getter = function () {\n                return val;\n            };\n\n            var setter = function (newval, delayWatcher) {\n                var oldval = val;\n                val = newval;\n                if (level !== 0\n                    && obj[prop] && (isObject(obj[prop]) || isArray(obj[prop]))\n                    && !obj[prop].watchers) {\n                   \n                    var i,ln = obj.watchers[prop].length;\n                    for(i=0; i<ln; i++) {\n                        watchAll(obj[prop], obj.watchers[prop][i], (level===undefined)?level:level-1);\n                    }\n                }\n\n               \n\n                if (isSuspended(obj, prop)) {\n                    resume(obj, prop);\n                    return;\n                }\n\n                if (!WatchJS.noMore){\n                   \n                    if (oldval !== newval) {\n                        if (!delayWatcher) {\n                            callWatchers(obj, prop, \"set\", newval, oldval);\n                        }\n                        else {\n                            addPendingChange(obj, prop, \"set\", newval, oldval);\n                        }\n                        WatchJS.noMore = false;\n                    }\n                }\n            };\n\n            if (WatchJS.useDirtyCheck) {\n                observeDirtyChanges(obj,prop,setter);\n            }\n            else {\n                defineGetAndSet(obj, prop, getter, setter);\n            }\n        }\n\n    };\n\n    var callWatchers = function (obj, prop, action, newval, oldval) {\n        if (prop !== undefined) {\n            var ln, wl, watchList = obj.watchers[prop];\n            if ((wl = obj.watchers['__watchall__'])) {\n                watchList = watchList ? watchList.concat(wl) : wl;\n            }\n            ln = watchList ? watchList.length : 0;\n            for (var wr=0; wr< ln; wr++) {\n                watchList[wr].call(obj, prop, action, newval, oldval);\n            }\n        } else {\n            for (var prop in obj) {//call all\n                if (obj.hasOwnProperty(prop)) {\n                    callWatchers(obj, prop, action, newval, oldval);\n                }\n            }\n        }\n    };\n\n    var methodNames = ['pop', 'push', 'reverse', 'shift', 'sort', 'slice', 'unshift', 'splice'];\n    var defineArrayMethodWatcher = function (obj, original, methodName, callback) {\n        defineProp(obj, methodName, function () {\n            var index = 0;\n            var i,newValue, oldValue, response;\n           \n            if (methodName === 'splice') {\n                var start = arguments[0];\n                var end = start + arguments[1];\n                oldValue = obj.slice(start,end);\n                newValue = [];\n                for(i=2;i<arguments.length;i++) {\n                    newValue[i-2] = arguments[i];\n                }\n                index = start;\n            }\n            else {\n                newValue = arguments.length > 0 ? arguments[0] : undefined;\n            }\n\n            response = original.apply(obj, arguments);\n            if (methodName !== 'slice') {\n                if (methodName === 'pop') {\n                    oldValue = response;\n                    index = obj.length;\n                }\n                else if (methodName === 'push') {\n                    index = obj.length-1;\n                }\n                else if (methodName === 'shift') {\n                    oldValue = response;\n                }\n                else if (methodName !== 'unshift' && newValue===undefined) {\n                    newValue = response;\n                }\n                callback.call(obj, index, methodName,newValue, oldValue)\n            }\n            return response;\n        });\n    };\n\n    var watchFunctions = function(obj, callback) {\n\n        if (!isFunction(callback) || !obj || (obj instanceof String) || (!isArray(obj))) {\n            return;\n        }\n\n        for (var i = methodNames.length, methodName; i--;) {\n            methodName = methodNames[i];\n            defineArrayMethodWatcher(obj, obj[methodName], methodName, callback);\n        }\n\n    };\n\n    var unwatchOne = function (obj, prop, watcher) {\n        if (obj.watchers[prop]) {\n            if (watcher===undefined) {\n                delete obj.watchers[prop];\n            }\n            else {\n                for (var i=0; i<obj.watchers[prop].length; i++) {\n                    var w = obj.watchers[prop][i];\n\n                    if (w == watcher) {\n                        obj.watchers[prop].splice(i, 1);\n                    }\n                }\n            }\n        }\n        removeFromLengthSubjects(obj, prop, watcher);\n        removeFromDirtyChecklist(obj, prop);\n    };\n\n   \n    var suspend = function(obj, prop) {\n        if (obj.watchers) {\n            var name = '__wjs_suspend__'+(prop!==undefined ? prop : '');\n            obj.watchers[name] = true;\n        }\n    }\n\n    var isSuspended = function(obj, prop) {\n        return obj.watchers\n            && (obj.watchers['__wjs_suspend__'] ||\n            obj.watchers['__wjs_suspend__'+prop]);\n    }\n\n   \n    var resume = function(obj, prop) {\n        registerTimeout(function() {\n            delete obj.watchers['__wjs_suspend__'];\n            delete obj.watchers['__wjs_suspend__'+prop];\n        })\n    }\n\n    var pendingTimerID = null;\n    var addPendingChange = function(obj,prop, mode, newval, oldval) {\n        pendingChanges[pendingChanges.length] = {\n            obj:obj,\n            prop: prop,\n            mode: mode,\n            newval: newval,\n            oldval: oldval\n        };\n        if (pendingTimerID===null) {\n            pendingTimerID = setTimeout(applyPendingChanges);\n        }\n    };\n\n\n    var applyPendingChanges = function()  {\n       \n        var change = null;\n        pendingTimerID = null;\n        for(var i=0;i < pendingChanges.length;i++) {\n            change = pendingChanges[i];\n            callWatchers(change.obj, change.prop, change.mode, change.newval, change.oldval);\n        }\n        if (change) {\n            pendingChanges = [];\n            change = null;\n        }\n    }\n\n    var loop = function(){\n\n       \n        for(var i=0; i<lengthsubjects.length; i++) {\n\n            var subj = lengthsubjects[i];\n\n            if (subj.prop === \"$$watchlengthsubjectroot\") {\n\n                var difference = getObjDiff(subj.obj, subj.actual);\n\n                if(difference.added.length || difference.removed.length){\n                    if(difference.added.length){\n                        watchMany(subj.obj, difference.added, subj.watcher, subj.level - 1, true);\n                    }\n\n                    subj.watcher.call(subj.obj, \"root\", \"differentattr\", difference, subj.actual);\n                }\n                subj.actual = clone(subj.obj);\n\n\n            } else {\n\n                var difference = getObjDiff(subj.obj[subj.prop], subj.actual);\n\n                if(difference.added.length || difference.removed.length){\n                    if(difference.added.length){\n                        for (var j=0; j<subj.obj.watchers[subj.prop].length; j++) {\n                            watchMany(subj.obj[subj.prop], difference.added, subj.obj.watchers[subj.prop][j], subj.level - 1, true);\n                        }\n                    }\n\n                    callWatchers(subj.obj, subj.prop, \"differentattr\", difference, subj.actual);\n                }\n\n                subj.actual = clone(subj.obj[subj.prop]);\n\n            }\n\n        }\n\n       \n        var n, value;\n        if (dirtyChecklist.length > 0) {\n            for (var i = 0; i < dirtyChecklist.length; i++) {\n                n = dirtyChecklist[i];\n                value = n.object[n.prop];\n                if (!compareValues(n.orig, value)) {\n                    n.orig = clone(value);\n                    n.callback(value);\n                }\n            }\n        }\n\n    };\n\n    var compareValues =  function(a,b) {\n        var i, state = true;\n        if (a!==b)  {\n            if (isObject(a)) {\n                for(i in a) {\n                    if (!supportDefineProperty && i==='watchers') continue;\n                    if (a[i]!==b[i]) {\n                        state = false;\n                        break;\n                    };\n                }\n            }\n            else {\n                state = false;\n            }\n        }\n        return state;\n    }\n\n    var pushToLengthSubjects = function(obj, prop, watcher, level){\n\n        var actual;\n\n        if (prop === \"$$watchlengthsubjectroot\") {\n            actual =  clone(obj);\n        } else {\n            actual = clone(obj[prop]);\n        }\n\n        lengthsubjects.push({\n            obj: obj,\n            prop: prop,\n            actual: actual,\n            watcher: watcher,\n            level: level\n        });\n    };\n\n    var removeFromLengthSubjects = function(obj, prop, watcher){\n\n        for (var i=0; i<lengthsubjects.length; i++) {\n            var subj = lengthsubjects[i];\n\n            if (subj.obj == obj && subj.prop == prop && subj.watcher == watcher) {\n                lengthsubjects.splice(i, 1);\n            }\n        }\n\n    };\n\n    var removeFromDirtyChecklist = function(obj, prop){\n        var notInUse;\n        for (var i=0; i<dirtyChecklist.length; i++) {\n            var n = dirtyChecklist[i];\n            var watchers = n.object.watchers;\n            notInUse = (\n                n.object == obj\n                && n.prop == prop\n                && watchers\n                && ( !watchers[prop] || watchers[prop].length == 0 )\n            );\n            if (notInUse)  {\n                dirtyChecklist.splice(i, 1);\n            }\n        }\n\n    };\n\n    setInterval(loop, 50);\n\n    WatchJS.watch = watch;\n    WatchJS.unwatch = unwatch;\n    WatchJS.callWatchers = callWatchers;\n    WatchJS.suspend = suspend;\n    WatchJS.onChange = trackChange; \n\n    return WatchJS;\n\n}));\n\n\n\n\n\nvar I18n = function (options) {\n    this.options = $.extend({}, this.DEFAULTS, options);\n};\n\nI18n.prototype.VERSION = '0.0.1';\nI18n.prototype.DEFAULTS = {\n    lang: 'en'\n};\n\nI18n.prototype.byString = function(o, s) {\n    s = s.replace(/\\[(\\w+)\\]/g, '.$1');\n    s = s.replace(/^\\./, '');          \n    var a = s.split('.');\n    for (var i = 0, n = a.length; i < n; ++i) {\n        var k = a[i];\n        if (k in o) {\n            o = o[k];\n        } else {\n            return;\n        }\n    }\n    return o;\n};\n\nI18n.prototype.instance = undefined;\nI18n.prototype.getInstance = function (options) {\n    if (I18n.prototype.instance === undefined || I18n.prototype.instance === null) {\n        I18n.prototype.instance = new I18n(options);\n    }\n    return I18n.prototype.instance;\n};\n\nI18n.prototype.t = function (name) {\n    return I18n.prototype.byString($_i18nData, this.options.lang.concat('.', name));\n};\n\nI18n.prototype.setLang = function (value) {\n   this.options.lang = value;\n    return this;\n};\n\njQuery.extend({\n    i18n: function (options) {\n        return new I18n.prototype.getInstance(options);\n    },\n    t: function (name) {\n        return new I18n.prototype.getInstance().t(name);\n    }\n});\n\n\n\n\n\n+function ($) {\n    'use strict';\n\n   \n   \n\n    var Modal = function (element, options) {\n        this.options             = options\n        this.$body               = $(document.body)\n        this.$element            = $(element)\n        this.$dialog             = this.$element.find('.modal-dialog')\n        this.$backdrop           = null\n        this.isShown             = null\n        this.originalBodyPad     = null\n        this.scrollbarWidth      = 0\n        this.ignoreBackdropClick = false\n\n        if (this.options.remote) {\n            this.$element\n                .find('.modal-content')\n                .load(this.options.remote, $.proxy(function () {\n                    this.$element.trigger('loaded.bs.modal')\n                }, this))\n        }\n    }\n\n    Modal.VERSION  = '0.0.1'\n\n    Modal.TRANSITION_DURATION = 300\n    Modal.BACKDROP_TRANSITION_DURATION = 150\n\n    Modal.DEFAULTS = {\n        backdrop: true,\n        keyboard: true,\n        show: true\n    }\n\n    Modal.prototype.toggle = function (_relatedTarget) {\n        return this.isShown ? this.hide() : this.show(_relatedTarget)\n    }\n\n    Modal.prototype.show = function (_relatedTarget) {\n        var that = this\n        var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })\n\n        this.$element.trigger(e)\n\n        if (this.isShown || e.isDefaultPrevented()) return\n\n        this.isShown = true\n\n        this.checkScrollbar()\n        this.setScrollbar()\n        this.$body.addClass('modal-open')\n\n        this.escape()\n        this.resize()\n\n        this.$element.on('click.dismiss.bs.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this))\n\n        this.$dialog.on('mousedown.dismiss.bs.modal', function () {\n            that.$element.one('mouseup.dismiss.bs.modal', function (e) {\n                if ($(e.target).is(that.$element)) that.ignoreBackdropClick = true\n            })\n        })\n\n        this.backdrop(function () {\n            var transition = $.support.transition && that.$element.hasClass('fade')\n\n            if (!that.$element.parent().length) {\n                that.$element.appendTo(that.$body)\n            }\n\n            that.$element\n                .show()\n                .scrollTop(0)\n\n            that.adjustDialog()\n\n            if (transition) {\n                that.$element[0].offsetWidth\n            }\n\n            that.$element.addClass('in')\n\n            that.enforceFocus()\n\n            var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })\n\n            transition ?\n                that.$dialog\n                    .one('bsTransitionEnd', function () {\n                        that.$element.trigger('focus').trigger(e)\n                    })\n                    .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n                that.$element.trigger('focus').trigger(e)\n        })\n    }\n\n    Modal.prototype.hide = function (e) {\n        if (e) e.preventDefault()\n\n        e = $.Event('hide.bs.modal')\n\n        this.$element.trigger(e)\n\n        if (!this.isShown || e.isDefaultPrevented()) return\n\n        this.isShown = false\n\n        this.escape()\n        this.resize()\n\n        $(document).off('focusin.bs.modal')\n\n        this.$element\n            .removeClass('in')\n            .off('click.dismiss.bs.modal')\n            .off('mouseup.dismiss.bs.modal')\n\n        this.$dialog.off('mousedown.dismiss.bs.modal')\n\n        $.support.transition && this.$element.hasClass('fade') ?\n            this.$element\n                .one('bsTransitionEnd', $.proxy(this.hideModal, this))\n                .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n            this.hideModal()\n    }\n\n    Modal.prototype.enforceFocus = function () {\n        $(document)\n            .off('focusin.bs.modal')\n            .on('focusin.bs.modal', $.proxy(function (e) {\n                if (this.$element[0] !== e.target && !this.$element.has(e.target).length) {\n                    this.$element.trigger('focus')\n                }\n            }, this))\n    }\n\n    Modal.prototype.escape = function () {\n        if (this.isShown && this.options.keyboard) {\n            this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {\n                e.which == 27 && this.hide()\n            }, this))\n        } else if (!this.isShown) {\n            this.$element.off('keydown.dismiss.bs.modal')\n        }\n    }\n\n    Modal.prototype.resize = function () {\n        if (this.isShown) {\n            $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))\n        } else {\n            $(window).off('resize.bs.modal')\n        }\n    }\n\n    Modal.prototype.iframeLastHeight = 0;\n    Modal.prototype.setIframeHeight = function (value) {\n        if(this.iframeLastHeight != value){\n            this.$element.find('iframe').css('height', (Modal.prototype.iframeLastHeight = value) + 'px');\n        }\n    }\n\n    Modal.prototype.iframeLastWidth = 0;\n    Modal.prototype.setIframeWidth = function (value) {\n        if(this.iframeLastWidth != value){\n            this.$element.find('iframe').css('width', (Modal.prototype.iframeLastWidth = value) +'px');\n        }\n    }\n\n    Modal.prototype.hideModal = function () {\n        var that = this\n        this.$element.hide()\n        this.backdrop(function () {\n            that.$body.removeClass('modal-open')\n            that.resetAdjustments()\n            that.resetScrollbar()\n            that.$element.trigger('hidden.bs.modal')\n        })\n    }\n\n    Modal.prototype.removeBackdrop = function () {\n        this.$backdrop && this.$backdrop.remove()\n        this.$backdrop = null\n    }\n\n    Modal.prototype.backdrop = function (callback) {\n        var that = this\n        var animate = this.$element.hasClass('fade') ? 'fade' : ''\n\n        if (this.isShown && this.options.backdrop) {\n            var doAnimate = $.support.transition && animate\n\n            this.$backdrop = $(document.createElement('div'))\n                .addClass('modal-backdrop ' + animate)\n                .appendTo(this.$body)\n\n            this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {\n                if (this.ignoreBackdropClick) {\n                    this.ignoreBackdropClick = false\n                    return\n                }\n                if (e.target !== e.currentTarget) return\n                this.options.backdrop == 'static'\n                    ? this.$element[0].focus()\n                    : this.hide()\n            }, this))\n\n            if (doAnimate) this.$backdrop[0].offsetWidth\n\n            this.$backdrop.addClass('in')\n\n            if (!callback) return\n\n            doAnimate ?\n                this.$backdrop\n                    .one('bsTransitionEnd', callback)\n                    .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n                callback()\n\n        } else if (!this.isShown && this.$backdrop) {\n            this.$backdrop.removeClass('in')\n\n            var callbackRemove = function () {\n                that.removeBackdrop()\n                callback && callback()\n            }\n            $.support.transition && this.$element.hasClass('fade') ?\n                this.$backdrop\n                    .one('bsTransitionEnd', callbackRemove)\n                    .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n                callbackRemove()\n\n        } else if (callback) {\n            callback()\n        }\n    }\n\n   \n\n    Modal.prototype.handleUpdate = function () {\n        this.adjustDialog()\n    }\n\n    Modal.prototype.adjustDialog = function () {\n        var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight\n\n        this.$element.css({\n            paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',\n            paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''\n        })\n    }\n\n    Modal.prototype.resetAdjustments = function () {\n        this.$element.css({\n            paddingLeft: '',\n            paddingRight: ''\n        })\n    }\n\n    Modal.prototype.checkScrollbar = function () {\n        var fullWindowWidth = window.innerWidth\n        if (!fullWindowWidth) {\n            var documentElementRect = document.documentElement.getBoundingClientRect()\n            fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)\n        }\n        this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth\n        this.scrollbarWidth = this.measureScrollbar()\n    }\n\n    Modal.prototype.setScrollbar = function () {\n        var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)\n        this.originalBodyPad = document.body.style.paddingRight || ''\n        if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)\n    }\n\n    Modal.prototype.resetScrollbar = function () {\n        this.$body.css('padding-right', this.originalBodyPad)\n    }\n\n    Modal.prototype.measureScrollbar = function () {\n        var scrollDiv = document.createElement('div')\n        scrollDiv.className = 'modal-scrollbar-measure'\n        this.$body.append(scrollDiv)\n        var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\n        this.$body[0].removeChild(scrollDiv)\n        return scrollbarWidth\n    }\n\n\n   \n   \n\n    function Plugin(option, _relatedTarget) {\n        return this.each(function () {\n            var $this   = $(this)\n            var data    = $this.data('bs.modal')\n            var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n            if (!data) $this.data('bs.modal', (data = new Modal(this, options)))\n            if (typeof option == 'string') data[option](_relatedTarget)\n            else if (options.show) data.show(_relatedTarget)\n        })\n    }\n\n    var old = $.fn.modal\n\n    $.fn.modal             = Plugin\n    $.fn.modal.Constructor = Modal\n\n\n   \n   \n\n    $.fn.modal.noConflict = function () {\n        $.fn.modal = old\n        return this\n    }\n\n\n   \n   \n\n    $(document).on('click.bs.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n        var $this   = $(this)\n        var href    = $this.attr('href')\n        var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, '')))\n        var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n\n        if ($this.is('a')) e.preventDefault()\n\n        $target.one('show.bs.modal', function (showEvent) {\n            if (showEvent.isDefaultPrevented()) return\n            $target.one('hidden.bs.modal', function () {\n                $this.is(':visible') && $this.trigger('focus')\n            })\n        })\n        Plugin.call($target, option, this)\n    })\n\n}(jQuery);\n\n\n+function ($) {\n    'use strict';\n\n   \n   \n\n    function transitionEnd() {\n        var el = document.createElement('bootstrap')\n\n        var transEndEventNames = {\n            WebkitTransition : 'webkitTransitionEnd',\n            MozTransition    : 'transitionend',\n            OTransition      : 'oTransitionEnd otransitionend',\n            transition       : 'transitionend'\n        }\n\n        for (var name in transEndEventNames) {\n            if (el.style[name] !== undefined) {\n                return { end: transEndEventNames[name] }\n            }\n        }\n\n        return false\n    }\n\n   \n    $.fn.emulateTransitionEnd = function (duration) {\n        var called = false\n        var $el = this\n        $(this).one('bsTransitionEnd', function () { called = true })\n        var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\n        setTimeout(callback, duration)\n        return this\n    }\n\n    $(function () {\n        $.support.transition = transitionEnd()\n\n        if (!$.support.transition) return\n\n        $.event.special.bsTransitionEnd = {\n            bindType: $.support.transition.end,\n            delegateType: $.support.transition.end,\n            handle: function (e) {\n                if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n            }\n        }\n    })\n\n}(jQuery);\n(function ($) {\n    $.fn.header3ds = function (opt) {\n        var defaults = {\n            \"bgcolor\": \"blue\",\n            \"secure\": false,\n            \"website\": \"a\",\n            \"language\": \"en\",\n            \"hasfooter\": false,\n            \"haslogin\": false,\n            \"hascompass\": true,\n            \"hassocial\": false,\n            \"hastrigram\": true,\n            \"hasconnect\": true,\n            \"hasborder\": true,\n            \"margin\": 0,\n            \"width\": \"100%\",\n            \"callback\": null,\n            \"modalId\": 'myModal',\n            \"atg\": {\n                \"apiURL\": \"http://localhost:3000\"\n            },\n            \"debug\": false\n        };\n\n\n        var ErrorEventListenerInterval = 1000;\n        var ErrorEventListenerLimit = 5;\n\n        var $setting = null, $userCookie = null;\n        var options = $.extend({}, defaults, opt);\n\n\n        var init = function () {\n            $setting = Setting3DS.prototype.getInstance({\n                \"language\": options.language,\n                \"atg\": options.atg,\n                \"debug\": options.debug,\n            });\n            $userCookie = UserCookie.prototype.getInstance();\n            $.i18n().setLang(options.language);\n\n            WatchJS.watch(options, \"language\", function (prop, action, newvalue, oldvalue) {\n                if (newvalue !== undefined || newvalue !== null) {\n                    $.i18n().setLang(newvalue);\n                }\n            });\n        }();\n\n        var pcss = \"ds_\";\n        var bgcolor = [\"black\", \"dark\", \"grey\", \"light\", \"white\", \"blue\"];\n        var lang = [\"en\", \"fr\", \"de\", \"en\", \"it\", \"es\", \"ja\", \"zh\", \"ko\", \"ru\", \"sv\", \"pt\"];\n        var website = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\"];\n        var optionsTmp = $.extend({}, defaults);\n        var soc = [\n            {n: \"facebook\", u: \"https://www.facebook.com/DassaultSystemes\"},\n            {n: \"linkedin\", u: \"http://www.linkedin.com/company/3896?trk=tyah\"},\n            {n: \"swym\", u: \"https://swym.3ds.com/\"},\n            {n: \"twitter\", u: \"https://twitter.com/dassault3DS\"},\n            {n: \"youtube\", u: \"http://www.youtube.com/user/DassaultSystemes\"},\n            {n: \"rss\", u: \"http://www.3ds.com/rss/\"}\n        ];\n\n\n        var defineEventListener = function () {\n            window.addEventListener(\"message\", function (e) {\n                if (e.data == 'CloseModal') {\n                    $('#' + options.modalId).modal('hide');\n                    $userCookie.auth(true);\n                    $userCookie.auth(true);\n                }\n\n                if (e.data[0] == 'ResizeModal') {\n                    if ((e.data[1] !== undefined || e.data[1] !== null) && e.data[1] > 0) {\n                        $('#' + options.modalId).modal('setIframeHeight', [(e.data[1])]);\n                    }\n\n                    if ((e.data[2] !== undefined || e.data[2] !== null) && e.data[2] > 0) {\n                        $('#' + options.modalId).modal('setIframeWidth', [(e.data[2])]);\n                    }\n                }\n            }, true);\n\n            $(document).on(\"UrlServiceErrorEvent\", function (event, instance, fn, callback) {\n                var nbErrorPropertyName = fn.concat('NbError');\n                (instance[nbErrorPropertyName] === undefined) ? instance[nbErrorPropertyName] = 1 : instance[nbErrorPropertyName]++;\n\n                if (instance[nbErrorPropertyName] < ErrorEventListenerLimit) {\n                    setTimeout(function () {\n                        instance[fn](callback);\n                    }, (ErrorEventListenerInterval * instance[nbErrorPropertyName]));\n                } else if (instance[nbErrorPropertyName] == ErrorEventListenerLimit) {\n                    $userCookie.logout();\n                }\n            });\n\n            $(document).on(\"3DSUserHasConnectedEvent\", function (event, userCookie) {\n                console.log('> 3DSUserHasConnectedEvent');\n                $(\".\".concat(pcss, 'btn')).show();\n                $(\".\".concat(pcss, 'trigram')).show();\n\n                if (userCookie._validCookie()) {\n                    $(\".\".concat(pcss, 'trigram')).removeClass(pcss + 'no-trigram');\n                    $(\".\".concat(pcss, 'trigram_content')).html(userCookie.trigram());\n                } else {\n                    $(\".\".concat(pcss, 'trigram')).addClass(pcss + 'no-trigram');\n                }\n\n                $(\".\".concat(pcss, 'connect')).hide();\n                $(\".\".concat(pcss, 'compass')).show();\n                bindTopbar();\n            });\n\n            $(document).on(\"3DSUserHasDisconnectedEvent\", function (event, userCookie) {\n                console.log('> 3DSUserHasDisconnectedEvent');\n                $(\".\".concat(pcss, 'connect')).show();\n                $(\".\".concat(pcss, 'trigram')).hide();\n\n                bindTopbar();\n                $(\".\".concat(pcss, 'trigram')).unbind(\"click\");\n            });\n\n            $(document).on(\"3DSApiErrorEvent\", function (event, userCookie) {\n                console.log('> 3DSApiErrorEvent');\n                $(\".\".concat(pcss, 'connect')).hide();\n                $(\".\".concat(pcss, 'trigram')).hide();\n            });\n\n        }();\n\n\n        function bindTopbar() {\n            $.service('url').topbar((function (data) {\n                var $_modal = $('#' + options.modalId);\n\n               \n                if (data.signInURL !== undefined && data.signInURL !== null) {\n                    $(\".\".concat(pcss, 'connect')).click(function () {\n                        $_modal.modal('show')\n                    });\n\n                    $('#' + options.modalId + '-iframe').attr('src', data.signInURL);\n                }\n\n\n               \n                if (data.myAccountURL !== undefined && data.myAccountURL !== null) {\n                    $(\".\".concat(pcss, 'trigram')).click(function () {\n                        window.location = data.myAccountURL;\n                    });\n                }\n            }));\n        }\n\n        function bindLinkOpenModal() {\n            $(\"a[data-threeds-modal]\").each(function (index, value){\n                console.log($(this).html());\n            });\n        }\n        bindLinkOpenModal();\n\n       \n        var isok = function (value, arr) {\n            return ( arr.indexOf(value) != -1 );\n        }\n\n        var isbool = function (val, defaultVal) {\n           \n            if (defaultVal) {\n                if (val == \"false\" || val == false || val == \"0\" || val == 0) {\n                    var retVal = false;\n                } else {\n                    var retVal = true;\n                }\n               \n            } else {\n                if (val == \"true\" || val == true || val == \"1\" || val == 1) {\n                    var retVal = true;\n                } else {\n                    var retVal = false;\n                }\n            }\n            return retVal;\n        }\n\n        if (isok(options.bgcolor, bgcolor)) {\n            optionsTmp.bgcolor = options.bgcolor;\n        }\n        if (isok(options.website, website)) {\n            optionsTmp.website = options.website;\n        }\n        if (isok(options.language, lang)) {\n            optionsTmp.language = options.language;\n        }\n        optionsTmp.secure = isbool(options.secure, defaults.secure);\n        optionsTmp.hasfooter = isbool(options.hasfooter, defaults.hasfooter);\n        optionsTmp.haslogin = isbool(options.haslogin, defaults.haslogin);\n        optionsTmp.hasborder = isbool(options.hasborder, defaults.hasborder);\n        optionsTmp.hascompass = isbool(options.hascompass, defaults.hascompass);\n        optionsTmp.hassocial = isbool(options.hassocial, defaults.hassocial);\n        optionsTmp.hastrigram = isbool(options.hastrigram, defaults.hastrigram);\n        optionsTmp.hasconnect = isbool(options.hasconnect, defaults.hasconnect);\n\n\n        optionsTmp.haslogin = false;\n\n       \n        var m = options.margin;\n        if (typeof(m) != \"undefined\" && m !== null) {\n            optionsTmp.margin = parseInt(m);\n        }\n       \n\n       \n        var w = options.width;\n        var w_unit = \"%\";\n        if (typeof(w) != \"undefined\" && w !== null) {\n            w_unit = (w.match(/(%|px)$/) || [\"%\"])[0];\n            var nmbr = parseInt(w);\n            if (w_unit == \"%\" && nmbr > 100) nmbr = 100;\n            optionsTmp.width = ( nmbr + 2 * options.margin ) + w_unit;\n        }\n       \n\n        if (options.mediaqueries) {\n            optionsTmp.mediaqueries = options.mediaqueries;\n        }\n\n\n        var params = $.extend(defaults, optionsTmp);\n        var baseurlLang = \"\";\n        switch (params.language) {\n            case \"pt\":\n                baseurlLang = \"pt-br/\";\n                break;\n           \n           \n           \n            default :\n                break;\n        }\n        if (baseurlLang == \"\" && params.language != \"en\") {\n            baseurlLang = params.language + \"/\";\n        }\n\n\n        var baseurl = (params.secure) ? \"https://www.3ds.com/\" + baseurlLang : \"http://www.3ds.com/\" + baseurlLang;\n        var baseurl_nolang = (params.secure) ? \"https://www.3ds.com/\" : \"http://www.3ds.com/\";\n\n        var compassURL = baseurl + \"about-3ds/3dexperience-platform/\";\n\n        var createQAList = function () {\n            var links = [];\n            if (params.language == \"fr\") {\n                compassURL = baseurl + \"a-propos-de-3ds/la-plate-forme-3dexperience/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Industries\", \"u\": baseurl + \"industries/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"Industries\", \"u\": baseurl + \"industries/\"});\n                        links.push({\"n\": \"Produits et Services\", \"u\": baseurl + \"produits-et-services/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"3dexperience/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Partenaires\", \"u\": baseurl + \"partners/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\"n\": \"CGR\", \"u\": baseurl + \"industries/consumer-goods-retail/\"});\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"Evénements\", \"u\": baseurl + \"evenements/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Produits et Services\", \"u\": baseurl + \"produits-et-services/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"de\") {\n                compassURL = baseurl + \"ueber-dassault-systemes/3dexperience-plattform/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Branchen\", \"u\": baseurl + \"branchen/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"Branchen\", \"u\": baseurl + \"branchen/\"});\n                        links.push({\"n\": \"Produkte und Services\", \"u\": baseurl + \"produkte-und-services/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl_nolang + \"3dexperience/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Partner\", \"u\": baseurl + \"partner/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\n                            \"n\": \"Gebrauchsgüter und Handel\",\n                            \"u\": baseurl + \"branchen/gebrauchsgueter-und-handel/\"\n                        });\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"Veranstaltungen\", \"u\": baseurl + \"veranstaltungen/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Produkte und Services\", \"u\": baseurl + \"produkte-und-services/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"it\") {\n                compassURL = baseurl + \"informazioni-su-3ds/piattaforma-3dexperience/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Settori Industriali\", \"u\": baseurl + \"settori-industriali/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"settori-industriali\", \"u\": baseurl + \"settori-industriali/\"});\n                        links.push({\"n\": \"Prodotti e Servizi\", \"u\": baseurl + \"prodotti-e-servizi/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Partner\", \"u\": baseurl + \"partner/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\n                            \"n\": \"Prodotti di largo consumo e vendita al dettaglio\",\n                            \"u\": baseurl + \"settori-industriali/prodotti-di-largo-consumo-e-vendita-al-dettaglio/\"\n                        });\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"Eventi\", \"u\": baseurl + \"eventi/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Prodotti e Servizi\", \"u\": baseurl + \"prodotti-e-servizi/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"es\") {\n                compassURL = baseurl + \"acerca-de-3ds/plataforma-3dexperience/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Industrias\", \"u\": baseurl + \"industrias/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"Industrias\", \"u\": baseurl + \"industrias/\"});\n                        links.push({\"n\": \"Productos y Servicios\", \"u\": baseurl + \"productos-y-servicios/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Partners\", \"u\": baseurl + \"partners/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\n                            \"n\": \"Bienes de consumo y Venta al por menor\",\n                            \"u\": baseurl + \"industrias/bienes-de-consumo-y-venta-al-por-menor/\"\n                        });\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"Eventos\", \"u\": baseurl + \"eventos/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Productos y Servicios\", \"u\": baseurl + \"productos-y-servicios/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"ja\") {\n                compassURL = baseurl + \"about-3ds/3dexperience-platform/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"インダストリー\", \"u\": baseurl + \"industries/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"インダストリー\", \"u\": baseurl + \"industries/\"});\n                        links.push({\"n\": \"製品 / サービス\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"パートナー\", \"u\": baseurl + \"partners/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\"n\": \"消費財・小売業\", \"u\": baseurl + \"industries/consumer-goods-retail/\"});\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"イベント/セミナー\", \"u\": baseurl + \"events/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"製品 / サービス\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"zh\") {\n                compassURL = baseurl + \"about-3ds/3dexperience-platform/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"行业\", \"u\": baseurl + \"industries/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"行业\", \"u\": baseurl + \"industries/\"});\n                        links.push({\"n\": \"产品和服务\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"パートナー\", \"u\": baseurl + \"partners/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\"n\": \"消費財・小売業\", \"u\": baseurl + \"industries/consumer-goods-retail/\"});\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"活动\", \"u\": baseurl + \"events/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"产品和服务\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"ko\") {\n                compassURL = baseurl + \"about-3ds/3dexperience-platform/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"산업\", \"u\": baseurl + \"industries/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"산업\", \"u\": baseurl + \"industries/\"});\n                        links.push({\"n\": \"제품과 서비스\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"파트너\", \"u\": baseurl + \"partners/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\"n\": \"소비재 산업\", \"u\": baseurl + \"industries/consumer-goods-retail/\"});\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"이벤트\", \"u\": baseurl + \"events/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"제품과 서비스\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"ru\") {\n                compassURL = baseurl + \"o-3ds/platforma-3dexperience/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Отрасли\", \"u\": baseurl + \"otrasli/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"Отрасли\", \"u\": baseurl + \"otrasli/\"});\n                        links.push({\"n\": \"Продукты и услуги\", \"u\": baseurl + \"produkty-i-uslugi/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Партнеры\", \"u\": baseurl + \"partnery/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\n                            \"n\": \"Товары широкого потребления и розница\",\n                            \"u\": baseurl + \"otrasli/tovary-shirokogo-potreblenija-i-roznica/\"\n                        });\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"События\", \"u\": baseurl + \"sobytija/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Продукты и услуги\", \"u\": baseurl + \"produkty-i-uslugi/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"sv\") {\n                compassURL = baseurl + \"om-3ds/Plattformen-3DEXPERIENCE/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Branscher\", \"u\": baseurl + \"branscher/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"Branscher\", \"u\": baseurl + \"branscher/\"});\n                        links.push({\"n\": \"Produkter och tjänster\", \"u\": baseurl + \"produkter-och-tjaenster/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Partner\", \"u\": baseurl + \"partners/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\n                            \"n\": \"Konsumentprodukter och detaljhandel\",\n                            \"u\": baseurl + \"branscher/konsumentprodukter-och-detaljhandel/\"\n                        });\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"Events\", \"u\": baseurl + \"events/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Produkter och tjänster\", \"u\": baseurl + \"produkter-och-tjaenster/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"pt\") {\n                compassURL = baseurl + \"about-3ds/3dexperience-platform/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Industrias\", \"u\": baseurl + \"industrias/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"Industrias\", \"u\": baseurl + \"Industrias/\"});\n                        links.push({\"n\": \"Produtos e Servicos\", \"u\": baseurl + \"produtos-e-servicos/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Parceiros\", \"u\": baseurl + \"parceiros/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\n                            \"n\": \"Consumer Goods & Retail\",\n                            \"u\": baseurl + \"industries/consumer-goods-retail/\"\n                        });\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"Eventos\", \"u\": baseurl + \"eventos/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Produtos e Servicos\", \"u\": baseurl + \"produtos-e-servicos/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else {\n                compassURL = baseurl + \"about-3ds/3dexperience-platform/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Industries\", \"u\": baseurl + \"industries/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"Industries\", \"u\": baseurl + \"industries/\"});\n                        links.push({\"n\": \"Products & Services\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"3dexperience/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Partners\", \"u\": baseurl + \"partners/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\n                            \"n\": \"Consumer Goods & Retail\",\n                            \"u\": baseurl + \"industries/consumer-goods-retail/\"\n                        });\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"Events\", \"u\": baseurl + \"events/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Products & Services\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    default :\n                        break;\n                }\n            }\n            return links;\n        }\n        var links = createQAList();\n        var createItemLink = function (name, url, tag) {\n            return $(\"<\" + tag + \">\").append(\n                $(\"<a>\").attr(\"href\", url).attr(\"title\", name).append($(\"<span>\").html(name))\n            );\n        }\n        var displaySocial = function () {\n            var $list = $(\"<p>\");\n            for (v in soc) {\n                createItemLink(soc[v].n, soc[v].u, \"span\").addClass(soc[v].n).appendTo($list);\n            }\n            $list.find(\"a span\").addClass(pcss + \"hide\");\n            return $list;\n        }\n        var displayQuickAccess = function () {\n            var $list = $(\"<p>\");\n            for (v in links) {\n                createItemLink(links[v].n, links[v].u, \"span\").appendTo($list);\n            }\n            return $list;\n        };\n        var displayID = function () {\n           \n           \n           \n           \n           \n           \n           \n           \n           \n           \n           \n            return $(\"<span>\");\n        }\n\n\n        var customMediaQueries = function () {\n\n            if (params.mediaqueries) {\n\n                var mq_style = \"\";\n\n                for (var i = 0; i < params.mediaqueries.length; i++) {\n\n                    mq_style += \"@media screen %min_rule% %max_rule% { %rules% }\";\n                    var min_rule = \"and ( min-width: %min% )\";\n                    var max_rule = \"and ( max-width: %max% )\";\n\n                    var mq_i = params.mediaqueries[i];\n\n                    if (mq_i.min && mq_i.min != null && mq_i.min != \"\") {\n                        min_rule = min_rule.replace('%min%', mq_i.min);\n                        mq_style = mq_style.replace(\"%min_rule%\", min_rule);\n                    } else {\n                        mq_style = mq_style.replace(\"%min_rule%\", \"\");\n                    }\n\n                    if (mq_i.max && mq_i.max != null && mq_i.max != \"\") {\n                        max_rule = max_rule.replace('%max%', mq_i.max);\n                        mq_style = mq_style.replace(\"%max_rule%\", max_rule);\n                    } else {\n                        mq_style = mq_style.replace(\"%max_rule%\", \"\");\n                    }\n\n                    var rules = \"\";\n\n                    if (mq_i.width && mq_i.width != null && mq_i.width != \"\") {\n                        rules += \".ds_center { width: \" + mq_i.width + \" !important; }\"\n                    }\n                    if (mq_i.margin && mq_i.margin != null && mq_i.margin != \"\") {\n                        rules += \".ds_inner { padding: 0 \" + mq_i.margin + \" !important; }\"\n                    }\n\n                    mq_style = mq_style.replace('%rules%', rules);\n\n                }\n\n                $('body').append($('<style>').html(mq_style));\n            }\n        }\n\n\n        var displayFooterLinks = function () {\n\n            var date = new Date();\n            var copy_begin = \"© 2002-\" + date.getFullYear() + \" Dassault Systèmes - \";\n            var $list = $(\"<p>\");\n            var $links = [];\n            var $copy = $(\"<span>\");\n\n            if (params.language == \"fr\") {\n                $links.push({\"n\": \"Informations légales\", \"u\": baseurl + \"mentions-legales/\"});\n                $links.push({\"n\": \"Conditions d'utilisation\", \"u\": baseurl + \"conditions-dutilisation/\"});\n                $links.push({\n                    \"n\": \"Politique de confidentialité\",\n                    \"u\": baseurl + \"politique-de-protection-des-donnees-personnelles/\"\n                });\n                $links.push({\"n\": \"Piratage\", \"u\": baseurl + \"piratage/\"});\n                $copy.html(copy_begin + \"Tous droits réservés\");\n            } else if (params.language == \"de\") {\n                $links.push({\"n\": \"Rechtliche Hinweise\", \"u\": baseurl + \"rechtliche-hinweise/\"});\n                $links.push({\"n\": \"Nutzungsbedinungen\", \"u\": baseurl + \"nutzungsbedingungen/\"});\n                $links.push({\"n\": \"Datenschutzrichtlinie\", \"u\": baseurl + \"datenschutzrichtlinie/\"});\n                $links.push({\"n\": \"Piraterie\", \"u\": baseurl + \"piraterie/\"});\n                $copy.html(copy_begin + \"Sämtliche Rechte vorbehalten\");\n            } else if (params.language == \"it\") {\n                $links.push({\"n\": \"Informazioni legali\", \"u\": baseurl + \"informazioni-legali/\"});\n                $links.push({\"n\": \"Condizioni d'uso\", \"u\": baseurl + \"condizioni-duso/\"});\n                $links.push({\n                    \"n\": \"Principi di tutela della privacy\",\n                    \"u\": baseurl + \"principi-di-tutela-della-privacy/\"\n                });\n                $links.push({\"n\": \"Pirateria\", \"u\": baseurl + \"pirateria/\"});\n                $copy.html(copy_begin + \"Tutti i diritti riservati\");\n            } else if (params.language == \"ru\") {\n                $links.push({\"n\": \"Юридическая информация\", \"u\": baseurl + \"juridicheskaja-informacija/\"});\n                $links.push({\"n\": \"Условия использования\", \"u\": baseurl + \"pravila-ispolzovanija/\"});\n                $links.push({\n                    \"n\": \"Политика конфиденциальности\",\n                    \"u\": baseurl + \"pravila-obrabotki-chastnoi-informacii/\"\n                });\n                $links.push({\"n\": \"Пиратство\", \"u\": baseurl + \"borba-s-piratstvom/\"});\n                $copy.html(copy_begin + \"Все права защищены\");\n            } else if (params.language == \"es\") {\n                $links.push({\"n\": \"Información legal\", \"u\": baseurl + \"informacion-legal/\"});\n                $links.push({\"n\": \"Condiciones de uso\", \"u\": baseurl + \"terminos-y-condiciones-de-uso/\"});\n                $links.push({\"n\": \"Política de privacidad\", \"u\": baseurl + \"politica-de-privacidad/\"});\n                $links.push({\"n\": \"Piratería\", \"u\": baseurl + \"pirateria/\"});\n                $copy.html(copy_begin + \"Todos los derechos reservados\");\n            } else if (params.language == \"ko\") {\n                $links.push({\"n\": \"법률 정보\", \"u\": baseurl + \"legal-information/\"});\n                $links.push({\"n\": \"사용권 계약\", \"u\": baseurl + \"terms-of-use/\"});\n                $links.push({\"n\": \"개인정보 보호정책\", \"u\": baseurl + \"privacy-policy/\"});\n                $links.push({\"n\": \"저작권 침해\", \"u\": baseurl + \"piracy/\"});\n                $copy.html(copy_begin + \"Copyright\");\n            } else if (params.language == \"zh\") {\n                $links.push({\"n\": \"法律信息\", \"u\": baseurl + \"legal-information/\"});\n                $links.push({\"n\": \"使用条款\", \"u\": baseurl + \"terms-of-use/\"});\n                $links.push({\"n\": \"隐私政策\", \"u\": baseurl + \"privacy-policy/\"});\n                $links.push({\"n\": \"隐私\", \"u\": baseurl + \"piracy/\"});\n                $copy.html(copy_begin + \"保留所有权利\");\n            } else if (params.language == \"ja\") {\n                $links.push({\"n\": \"法的事項\", \"u\": baseurl + \"legal-information/\"});\n                $links.push({\"n\": \"利用規約\", \"u\": baseurl + \"terms-of-use/\"});\n                $links.push({\"n\": \"個人情報管理方針\", \"u\": baseurl + \"privacy-policy/\"});\n                $links.push({\"n\": \"著作権侵害\", \"u\": baseurl + \"piracy/\"});\n                $copy.html(copy_begin + \"無断複写・複製・転載を禁ず\");\n            } else if (params.language == \"se\") {\n                $links.push({\"n\": \"Juridisk information\", \"u\": baseurl + \"laglig-information/\"});\n                $links.push({\"n\": \"Användarvillkor\", \"u\": baseurl + \"anvaendningsvillkor/\"});\n                $links.push({\"n\": \"Sekretesspolicy\", \"u\": baseurl + \"politik-gaellande-personuppgifter/\"});\n                $links.push({\"n\": \"Piratkopiering\", \"u\": baseurl + \"piratkopiering/\"});\n                $copy.html(copy_begin + \"Med ensamrätt\");\n            } else {\n                $links.push({\"n\": \"Legal Info\", \"u\": baseurl + \"legal-information/\"});\n                $links.push({\"n\": \"Terms of use\", \"u\": baseurl + \"terms-of-use/\"});\n                $links.push({\"n\": \"Privacy policy\", \"u\": baseurl + \"privacy-policy/\"});\n                $links.push({\"n\": \"Piracy\", \"u\": baseurl + \"piracy/\"});\n                $copy.html(copy_begin + \"All rights reserved\");\n            }\n\n           \n            for (v in $links) {\n                var $pipe = $(\"<span>\").addClass(pcss + \"pipe\");\n                var first = 0;\n                var last = $links.length - 1;\n               \n                                if (v == last) {\n                    createItemLink($links[v].n, $links[v].u, \"span\").appendTo($list);\n                } else {\n                    createItemLink($links[v].n, $links[v].u, \"span\").append($pipe).appendTo($list.append(' '));\n                }\n            }\n\n            $list.append($(\"<span>\").addClass(pcss + \"copy\").append($copy));\n            return $list;\n        };\n        return this.each(function () {\n            var $this = $(this);\n            $this.css(\"padding-top\", \"56px\").css(\"position\", \"inherit\");\n\n            var $logo = $(\"<h3>\").addClass(pcss + \"logo\").append(\n                $(\"<a>\").attr(\"href\", baseurl).append(\n                    $(\"<span>\").addClass(pcss + \"hide\").html(\"Dassault Systèmes\")\n                )\n            );\n\n\n           \n            var $btnSocial = $(\"<span>\").addClass(pcss + \"btn\").append(\n                $(\"<span>\").addClass(pcss + \"hide\").html(\"Tools\")\n            ).on(\"click\", function () {\n                    $sliderSocial.stop().animate({width: 'toggle'}, {\"duration\": 500, \"easing\": \"swing\"});\n                    $(\".h3ds_social\").stop().animate({width: 'toggle'}, {\"duration\": 500, \"easing\": \"swing\"});\n                   \n                });\n\n            var $sliderSocial = $(\"<div>\").addClass(pcss + \"slider\").hide().append(displaySocial());\n           \n            $btnSocial.append($sliderSocial);\n           \n\n\n           \n            var $trigram = $(\"<span>\").addClass(pcss + \"trigram\")\n            $trigram.append(\n                $(\"<span>\").addClass(pcss + \"trigram_content\").append(\n                    $(\"<div>\").addClass(pcss + \"txt\")\n                )\n            );\n\n           \n\n           \n            var $connect = $(\"<span>\").addClass((pcss + \"connect\"));\n            $connect.append(\n                $(\"<a>\").addClass(pcss + \"banner-btn\").append('Connect')\n            );\n\n            var $modal = $(\"<div>\")\n                .addClass('modal')\n                .addClass('fade')\n                .attr('id', options.modalId)\n                .attr('tabindex', '-1')\n                .attr('role', 'dialog')\n                .attr('aria-hidden', 'true').append(\n                $(\"<div>\").addClass('modal-dialog').append(\n                    $(\"<div>\").addClass('modal-content').append(\n                        $(\"<div>\").addClass('modal-body').append(\n                            $(\"<button>\")\n                                .addClass('close')\n                                .attr('type', 'button')\n                                .attr('data-dismiss', 'modal')\n                                .attr('aria-label', 'Close').append(\n                                $(\"<span>\").attr('aria-hidden', 'true')\n                            )\n                        ).append(\n                            $(\"<iframe>\")\n                                .attr('id', options.modalId + '-iframe')\n                                .attr('src', '')\n                                .attr('width', '100%')\n                                .attr('height', '100%')\n                                .attr('frameborder', '0')\n                                .attr('allowtransparency', 'true')\n                        )\n                    )\n                )\n            );\n\n           \n\n            var $layerID = $(\"<div>\").addClass(pcss + \"id\").append(displayID()); \n\n            var $compassA = $(\"<a>\").attr(\"href\", compassURL); \n            var $compass = $(\"<div>\").addClass(pcss + \"compass\").append($compassA); \n\n\n            var $quickAccess = $(\"<div>\").addClass(pcss + \"links\").append(displayQuickAccess());\n            var $rightSide = $(\"<div>\").addClass(pcss + \"right\")//.append($btnSocial);//.append($sliderSocial);\n            var $header = $(\"<div>\").addClass(\"ds\").addClass(pcss + params.bgcolor);\n            var $headerWinner = $(\"<div>\").addClass(pcss + \"inner\").css(\"padding\", \"0 \" + params.margin + \"px\");\n            var $headerW = $(\"<div>\").addClass(pcss + \"center\").width(params.width);\n            if (!params.hasborder) {\n                $header.addClass(pcss + \"noborder\");\n            }\n\n            var $footer = $(\"<div>\").addClass(\"ds\").addClass(pcss + \"footer\").addClass(pcss + params.bgcolor);\n            var $footerW = $(\"<div>\").addClass(pcss + \"center\").width(params.width);\n            var $footerLinks = $(\"<div>\").addClass(pcss + \"flinks\").append(displayFooterLinks());\n            customMediaQueries();\n\n            var iconClass = \"\";\n            switch (params.bgcolor) {\n                case \"black\":\n                    iconClass = \"txtlight\";\n                    break;\n                case \"dark\":\n                    iconClass = \"txtlight\";\n                    break;\n                case \"grey\":\n                    iconClass = \"txtlight\";\n                    break;\n                case \"light\":\n                    iconClass = \"txtdark\";\n                    break;\n                case \"white\":\n                    iconClass = \"txtblue\";\n                    break;\n                case \"blue\":\n                    iconClass = \"txtlight\";\n                    break;\n                default:\n                    iconClass = \"txtblue\";\n                    break;\n            }\n            $header.addClass(pcss + iconClass);\n            $footer.addClass(pcss + iconClass);\n\n           \n            $header.append($headerW.append($headerWinner.append($logo).append($rightSide.append($quickAccess))));\n\n            if (params.haslogin) {\n                $layerID.prependTo($rightSide);\n            }\n\n            if (params.hassocial) {\n                $btnSocial.prependTo($rightSide);\n            }\n\n            if (params.hastrigram) {\n                $trigram.prependTo($rightSide);\n            }\n\n            if (params.hasconnect) {\n                $connect.prependTo($rightSide);\n            }\n\n            if (params.hascompass) {\n                $compass.prependTo($rightSide);\n            }\n\n            if (params.display_social_btn) {\n                $compass.prependTo($rightSide);\n            }\n\n            $footer.append($footerLinks);\n            $footer.append($footerW.append($footerLinks));\n\n\n            $header.prependTo($this);\n            $modal.prependTo($this);\n            if (params.hasfooter) {\n                $footer.appendTo($this);\n            } else {\n               \n            }\n            if (params.callback) {\n                params.callback();\n            }\n        });\n    };\n\n})(jQuery);"],"sourceRoot":"/source/"}