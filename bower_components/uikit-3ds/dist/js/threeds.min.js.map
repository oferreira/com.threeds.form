{"version":3,"sources":["threeds.min.js"],"names":["$","fn","header3ds","opt","bindTopbar","service","topbar","data","$_modal","options","modalId","undefined","signInURL","concat","pcss","click","modal","attr","myAccountURL","window","location","bindLinkOpenModal","each","index","value","console","log","this","html","defaults","bgcolor","secure","website","language","hasfooter","haslogin","hascompass","hassocial","hastrigram","hasconnect","hasborder","margin","width","callback","atg","apiURL","debug","ErrorEventListenerInterval","ErrorEventListenerLimit","$setting","$userCookie","extend","Setting3DS","prototype","getInstance","UserCookie","i18n","setLang","WatchJS","watch","prop","action","newvalue","oldvalue","lang","optionsTmp","soc","n","u","addEventListener","e","auth","document","on","event","instance","nbErrorPropertyName","setTimeout","logout","userCookie","show","_validCookie","removeClass","trigram","addClass","hide","unbind","isok","arr","indexOf","isbool","val","defaultVal","retVal","m","parseInt","w","w_unit","match","nmbr","mediaqueries","params","baseurlLang","baseurl","baseurl_nolang","compassURL","createQAList","links","push","createItemLink","name","url","tag","append","displaySocial","$list","v","appendTo","find","displayQuickAccess","displayID","customMediaQueries","mq_style","i","length","min_rule","max_rule","mq_i","min","replace","max","rules","displayFooterLinks","date","Date","copy_begin","getFullYear","$links","$copy","$pipe","last","$this","css","$logo","$btnSocial","$sliderSocial","stop","animate","duration","easing","$trigram","$connect","$modal","$layerID","$compassA","$compass","$quickAccess","$rightSide","$header","$headerWinner","$headerW","$footer","$footerW","$footerLinks","iconClass","prependTo","display_social_btn","jQuery","I18n","DEFAULTS","VERSION","byString","o","s","a","split","k","t","$_i18nData","Plugin","option","_relatedTarget","Modal","element","$body","body","$element","$dialog","$backdrop","isShown","originalBodyPad","scrollbarWidth","ignoreBackdropClick","remote","load","proxy","trigger","TRANSITION_DURATION","BACKDROP_TRANSITION_DURATION","backdrop","keyboard","toggle","that","Event","relatedTarget","isDefaultPrevented","checkScrollbar","setScrollbar","escape","resize","one","target","is","transition","support","hasClass","parent","scrollTop","adjustDialog","offsetWidth","enforceFocus","emulateTransitionEnd","preventDefault","off","hideModal","has","which","handleUpdate","iframeLastHeight","setIframeHeight","iframeLastWidth","setIframeWidth","resetAdjustments","resetScrollbar","removeBackdrop","remove","doAnimate","createElement","currentTarget","focus","callbackRemove","modalIsOverflowing","scrollHeight","documentElement","clientHeight","paddingLeft","bodyIsOverflowing","paddingRight","fullWindowWidth","innerWidth","documentElementRect","getBoundingClientRect","right","Math","abs","left","clientWidth","measureScrollbar","bodyPad","style","scrollDiv","className","removeChild","old","Constructor","noConflict","href","$target","test","showEvent","call","transitionEnd","el","transEndEventNames","WebkitTransition","MozTransition","OTransition","end","called","$el","special","bsTransitionEnd","bindType","delegateType","handle","handleObj","handler","apply","arguments","String","capitalize","charAt","toUpperCase","slice","ServiceManager","get","eval","set","key","_createCookie","user_connected_callback","user_disconnected_callback","AUTH_COOKIE_NAME","domain","lifetime","path","api_error_callback","force","isConnected","_loadCookie","self","info","hasOwnProperty","_setCookie","_setData","_getCookie","_isNewData","oldData","newData","lastName","firstName","userStatus","setTime","getTime","expires","toGMTString","cookie","nameEQ","ca","c","substring","$return","err","factory","exports","module","define","amd","unwatch","callWatchers","clearTimerID","timerID","timeouts","noMore","useDirtyCheck","lengthsubjects","dirtyChecklist","pendingChanges","supportDefineProperty","Object","defineProperty","ex","isFunction","functionToCheck","getType","toString","isArray","obj","isObject","getObjDiff","b","aplus","bplus","j","added","removed","clone","copy","constructor","defineGetAndSet","propName","getter","setter","observe","changes","forEach","change","object","enumerable","configurable","e2","__defineGetter__","__defineSetter__","e3","observeDirtyChanges","defineProp","writable","error","orig","watchAll","watchMany","watchOne","watcher","level","addNRemove","defineWatcher","props","pushToLengthSubjects","unwatchAll","unwatchMany","unwatchOne","unwatchPropsInObject","obj2","prop2","getTimerID","registerTimeout","trackChange","trackProperty","trackObject","recursive","lastTimerID","isArr","newValue","oldValue","type","splices","deleteCount","addedCount","deleted","newWatcher","watchers","watchFunctions","addPendingChange","ln","wAll","watchList","newval","delayWatcher","oldval","isSuspended","resume","wl","wr","methodNames","defineArrayMethodWatcher","original","methodName","response","start","splice","removeFromLengthSubjects","removeFromDirtyChecklist","suspend","pendingTimerID","mode","applyPendingChanges","loop","subj","difference","actual","compareValues","state","notInUse","setInterval","onChange","CacheService","localStorage","JSON","parse","UrlService","ajaxSetup","crossDomain","xhrFields","withCredentials","ajax","dataType","getTopbarInfoApiURL","success","resultat","statut","erreur","UserService","getUserInfoApiURL"],"mappings":"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","file":"threeds.min.js","sourcesContent":["\n(function ($) {\n    $.fn.header3ds = function (opt) {\n        var defaults = {\n            \"bgcolor\": \"blue\",\n            \"secure\": false,\n            \"website\": \"a\",\n            \"language\": \"en\",\n            \"hasfooter\": false,\n            \"haslogin\": false,\n            \"hascompass\": true,\n            \"hassocial\": false,\n            \"hastrigram\": true,\n            \"hasconnect\": true,\n            \"hasborder\": true,\n            \"margin\": 0,\n            \"width\": \"100%\",\n            \"callback\": null,\n            \"modalId\": 'myModal',\n            \"atg\": {\n                \"apiURL\": \"http://localhost:3000\"\n            },\n            \"debug\": false\n        };\n\n\n        var ErrorEventListenerInterval = 1000;\n        var ErrorEventListenerLimit = 5;\n\n        var $setting = null, $userCookie = null;\n        var options = $.extend({}, defaults, opt);\n\n\n        var init = function () {\n            $setting = Setting3DS.prototype.getInstance({\n                \"language\": options.language,\n                \"atg\": options.atg,\n                \"debug\": options.debug,\n            });\n            $userCookie = UserCookie.prototype.getInstance();\n            $.i18n().setLang(options.language);\n\n            WatchJS.watch(options, \"language\", function (prop, action, newvalue, oldvalue) {\n                if (newvalue !== undefined || newvalue !== null) {\n                    $.i18n().setLang(newvalue);\n                }\n            });\n        }();\n\n        var pcss = \"ds_\";\n        var bgcolor = [\"black\", \"dark\", \"grey\", \"light\", \"white\", \"blue\"];\n        var lang = [\"en\", \"fr\", \"de\", \"en\", \"it\", \"es\", \"ja\", \"zh\", \"ko\", \"ru\", \"sv\", \"pt\"];\n        var website = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\"];\n        var optionsTmp = $.extend({}, defaults);\n        var soc = [\n            {n: \"facebook\", u: \"https://www.facebook.com/DassaultSystemes\"},\n            {n: \"linkedin\", u: \"http://www.linkedin.com/company/3896?trk=tyah\"},\n            {n: \"swym\", u: \"https://swym.3ds.com/\"},\n            {n: \"twitter\", u: \"https://twitter.com/dassault3DS\"},\n            {n: \"youtube\", u: \"http://www.youtube.com/user/DassaultSystemes\"},\n            {n: \"rss\", u: \"http://www.3ds.com/rss/\"}\n        ];\n\n\n        var defineEventListener = function () {\n            window.addEventListener(\"message\", function (e) {\n                if (e.data == 'CloseModal') {\n                    $('#' + options.modalId).modal('hide');\n                    $userCookie.auth(true);\n                    $userCookie.auth(true);\n                }\n\n                if (e.data[0] == 'ResizeModal') {\n                    if ((e.data[1] !== undefined || e.data[1] !== null) && e.data[1] > 0) {\n                        $('#' + options.modalId).modal('setIframeHeight', [(e.data[1])]);\n                    }\n\n                    if ((e.data[2] !== undefined || e.data[2] !== null) && e.data[2] > 0) {\n                        $('#' + options.modalId).modal('setIframeWidth', [(e.data[2])]);\n                    }\n                }\n            }, true);\n\n            $(document).on(\"UrlServiceErrorEvent\", function (event, instance, fn, callback) {\n                var nbErrorPropertyName = fn.concat('NbError');\n                (instance[nbErrorPropertyName] === undefined) ? instance[nbErrorPropertyName] = 1 : instance[nbErrorPropertyName]++;\n\n                if (instance[nbErrorPropertyName] < ErrorEventListenerLimit) {\n                    setTimeout(function () {\n                        instance[fn](callback);\n                    }, (ErrorEventListenerInterval * instance[nbErrorPropertyName]));\n                } else if (instance[nbErrorPropertyName] == ErrorEventListenerLimit) {\n                    $userCookie.logout();\n                }\n            });\n\n            $(document).on(\"3DSUserHasConnectedEvent\", function (event, userCookie) {\n                console.log('> 3DSUserHasConnectedEvent');\n                $(\".\".concat(pcss, 'btn')).show();\n                $(\".\".concat(pcss, 'trigram')).show();\n\n                if (userCookie._validCookie()) {\n                    $(\".\".concat(pcss, 'trigram')).removeClass(pcss + 'no-trigram');\n                    $(\".\".concat(pcss, 'trigram_content')).html(userCookie.trigram());\n                } else {\n                    $(\".\".concat(pcss, 'trigram')).addClass(pcss + 'no-trigram');\n                }\n\n                $(\".\".concat(pcss, 'connect')).hide();\n                $(\".\".concat(pcss, 'compass')).show();\n                bindTopbar();\n            });\n\n            $(document).on(\"3DSUserHasDisconnectedEvent\", function (event, userCookie) {\n                console.log('> 3DSUserHasDisconnectedEvent');\n                $(\".\".concat(pcss, 'connect')).show();\n                $(\".\".concat(pcss, 'trigram')).hide();\n\n                bindTopbar();\n                $(\".\".concat(pcss, 'trigram')).unbind(\"click\");\n            });\n\n            $(document).on(\"3DSApiErrorEvent\", function (event, userCookie) {\n                console.log('> 3DSApiErrorEvent');\n                $(\".\".concat(pcss, 'connect')).hide();\n                $(\".\".concat(pcss, 'trigram')).hide();\n            });\n\n        }();\n\n\n        function bindTopbar() {\n            $.service('url').topbar((function (data) {\n                var $_modal = $('#' + options.modalId);\n\n               \n                if (data.signInURL !== undefined && data.signInURL !== null) {\n                    $(\".\".concat(pcss, 'connect')).click(function () {\n                        $_modal.modal('show')\n                    });\n\n                    $('#' + options.modalId + '-iframe').attr('src', data.signInURL);\n                }\n\n\n               \n                if (data.myAccountURL !== undefined && data.myAccountURL !== null) {\n                    $(\".\".concat(pcss, 'trigram')).click(function () {\n                        window.location = data.myAccountURL;\n                    });\n                }\n            }));\n        }\n\n        function bindLinkOpenModal() {\n            $(\"a[data-threeds-modal]\").each(function (index, value){\n                console.log($(this).html());\n            });\n        }\n        bindLinkOpenModal();\n\n       \n        var isok = function (value, arr) {\n            return ( arr.indexOf(value) != -1 );\n        }\n\n        var isbool = function (val, defaultVal) {\n           \n            if (defaultVal) {\n                if (val == \"false\" || val == false || val == \"0\" || val == 0) {\n                    var retVal = false;\n                } else {\n                    var retVal = true;\n                }\n               \n            } else {\n                if (val == \"true\" || val == true || val == \"1\" || val == 1) {\n                    var retVal = true;\n                } else {\n                    var retVal = false;\n                }\n            }\n            return retVal;\n        }\n\n        if (isok(options.bgcolor, bgcolor)) {\n            optionsTmp.bgcolor = options.bgcolor;\n        }\n        if (isok(options.website, website)) {\n            optionsTmp.website = options.website;\n        }\n        if (isok(options.language, lang)) {\n            optionsTmp.language = options.language;\n        }\n        optionsTmp.secure = isbool(options.secure, defaults.secure);\n        optionsTmp.hasfooter = isbool(options.hasfooter, defaults.hasfooter);\n        optionsTmp.haslogin = isbool(options.haslogin, defaults.haslogin);\n        optionsTmp.hasborder = isbool(options.hasborder, defaults.hasborder);\n        optionsTmp.hascompass = isbool(options.hascompass, defaults.hascompass);\n        optionsTmp.hassocial = isbool(options.hassocial, defaults.hassocial);\n        optionsTmp.hastrigram = isbool(options.hastrigram, defaults.hastrigram);\n        optionsTmp.hasconnect = isbool(options.hasconnect, defaults.hasconnect);\n\n\n        optionsTmp.haslogin = false;\n\n       \n        var m = options.margin;\n        if (typeof(m) != \"undefined\" && m !== null) {\n            optionsTmp.margin = parseInt(m);\n        }\n       \n\n       \n        var w = options.width;\n        var w_unit = \"%\";\n        if (typeof(w) != \"undefined\" && w !== null) {\n            w_unit = (w.match(/(%|px)$/) || [\"%\"])[0];\n            var nmbr = parseInt(w);\n            if (w_unit == \"%\" && nmbr > 100) nmbr = 100;\n            optionsTmp.width = ( nmbr + 2 * options.margin ) + w_unit;\n        }\n       \n\n        if (options.mediaqueries) {\n            optionsTmp.mediaqueries = options.mediaqueries;\n        }\n\n\n        var params = $.extend(defaults, optionsTmp);\n        var baseurlLang = \"\";\n        switch (params.language) {\n            case \"pt\":\n                baseurlLang = \"pt-br/\";\n                break;\n           \n           \n           \n            default :\n                break;\n        }\n        if (baseurlLang == \"\" && params.language != \"en\") {\n            baseurlLang = params.language + \"/\";\n        }\n\n\n        var baseurl = (params.secure) ? \"https://www.3ds.com/\" + baseurlLang : \"http://www.3ds.com/\" + baseurlLang;\n        var baseurl_nolang = (params.secure) ? \"https://www.3ds.com/\" : \"http://www.3ds.com/\";\n\n        var compassURL = baseurl + \"about-3ds/3dexperience-platform/\";\n\n        var createQAList = function () {\n            var links = [];\n            if (params.language == \"fr\") {\n                compassURL = baseurl + \"a-propos-de-3ds/la-plate-forme-3dexperience/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Industries\", \"u\": baseurl + \"industries/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"Industries\", \"u\": baseurl + \"industries/\"});\n                        links.push({\"n\": \"Produits et Services\", \"u\": baseurl + \"produits-et-services/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"3dexperience/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Partenaires\", \"u\": baseurl + \"partners/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\"n\": \"CGR\", \"u\": baseurl + \"industries/consumer-goods-retail/\"});\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"Evénements\", \"u\": baseurl + \"evenements/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Produits et Services\", \"u\": baseurl + \"produits-et-services/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"de\") {\n                compassURL = baseurl + \"ueber-dassault-systemes/3dexperience-plattform/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Branchen\", \"u\": baseurl + \"branchen/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"Branchen\", \"u\": baseurl + \"branchen/\"});\n                        links.push({\"n\": \"Produkte und Services\", \"u\": baseurl + \"produkte-und-services/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl_nolang + \"3dexperience/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Partner\", \"u\": baseurl + \"partner/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\n                            \"n\": \"Gebrauchsgüter und Handel\",\n                            \"u\": baseurl + \"branchen/gebrauchsgueter-und-handel/\"\n                        });\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"Veranstaltungen\", \"u\": baseurl + \"veranstaltungen/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Produkte und Services\", \"u\": baseurl + \"produkte-und-services/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"it\") {\n                compassURL = baseurl + \"informazioni-su-3ds/piattaforma-3dexperience/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Settori Industriali\", \"u\": baseurl + \"settori-industriali/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"settori-industriali\", \"u\": baseurl + \"settori-industriali/\"});\n                        links.push({\"n\": \"Prodotti e Servizi\", \"u\": baseurl + \"prodotti-e-servizi/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Partner\", \"u\": baseurl + \"partner/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\n                            \"n\": \"Prodotti di largo consumo e vendita al dettaglio\",\n                            \"u\": baseurl + \"settori-industriali/prodotti-di-largo-consumo-e-vendita-al-dettaglio/\"\n                        });\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"Eventi\", \"u\": baseurl + \"eventi/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Prodotti e Servizi\", \"u\": baseurl + \"prodotti-e-servizi/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"es\") {\n                compassURL = baseurl + \"acerca-de-3ds/plataforma-3dexperience/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Industrias\", \"u\": baseurl + \"industrias/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"Industrias\", \"u\": baseurl + \"industrias/\"});\n                        links.push({\"n\": \"Productos y Servicios\", \"u\": baseurl + \"productos-y-servicios/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Partners\", \"u\": baseurl + \"partners/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\n                            \"n\": \"Bienes de consumo y Venta al por menor\",\n                            \"u\": baseurl + \"industrias/bienes-de-consumo-y-venta-al-por-menor/\"\n                        });\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"Eventos\", \"u\": baseurl + \"eventos/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Productos y Servicios\", \"u\": baseurl + \"productos-y-servicios/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"ja\") {\n                compassURL = baseurl + \"about-3ds/3dexperience-platform/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"インダストリー\", \"u\": baseurl + \"industries/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"インダストリー\", \"u\": baseurl + \"industries/\"});\n                        links.push({\"n\": \"製品 / サービス\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"パートナー\", \"u\": baseurl + \"partners/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\"n\": \"消費財・小売業\", \"u\": baseurl + \"industries/consumer-goods-retail/\"});\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"イベント/セミナー\", \"u\": baseurl + \"events/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"製品 / サービス\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"zh\") {\n                compassURL = baseurl + \"about-3ds/3dexperience-platform/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"行业\", \"u\": baseurl + \"industries/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"行业\", \"u\": baseurl + \"industries/\"});\n                        links.push({\"n\": \"产品和服务\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"パートナー\", \"u\": baseurl + \"partners/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\"n\": \"消費財・小売業\", \"u\": baseurl + \"industries/consumer-goods-retail/\"});\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"活动\", \"u\": baseurl + \"events/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"产品和服务\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"ko\") {\n                compassURL = baseurl + \"about-3ds/3dexperience-platform/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"산업\", \"u\": baseurl + \"industries/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"산업\", \"u\": baseurl + \"industries/\"});\n                        links.push({\"n\": \"제품과 서비스\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"파트너\", \"u\": baseurl + \"partners/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\"n\": \"소비재 산업\", \"u\": baseurl + \"industries/consumer-goods-retail/\"});\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"이벤트\", \"u\": baseurl + \"events/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"제품과 서비스\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"ru\") {\n                compassURL = baseurl + \"o-3ds/platforma-3dexperience/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Отрасли\", \"u\": baseurl + \"otrasli/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"Отрасли\", \"u\": baseurl + \"otrasli/\"});\n                        links.push({\"n\": \"Продукты и услуги\", \"u\": baseurl + \"produkty-i-uslugi/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Партнеры\", \"u\": baseurl + \"partnery/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\n                            \"n\": \"Товары широкого потребления и розница\",\n                            \"u\": baseurl + \"otrasli/tovary-shirokogo-potreblenija-i-roznica/\"\n                        });\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"События\", \"u\": baseurl + \"sobytija/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Продукты и услуги\", \"u\": baseurl + \"produkty-i-uslugi/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"sv\") {\n                compassURL = baseurl + \"om-3ds/Plattformen-3DEXPERIENCE/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Branscher\", \"u\": baseurl + \"branscher/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"Branscher\", \"u\": baseurl + \"branscher/\"});\n                        links.push({\"n\": \"Produkter och tjänster\", \"u\": baseurl + \"produkter-och-tjaenster/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Partner\", \"u\": baseurl + \"partners/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\n                            \"n\": \"Konsumentprodukter och detaljhandel\",\n                            \"u\": baseurl + \"branscher/konsumentprodukter-och-detaljhandel/\"\n                        });\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"Events\", \"u\": baseurl + \"events/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Produkter och tjänster\", \"u\": baseurl + \"produkter-och-tjaenster/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else if (params.language == \"pt\") {\n                compassURL = baseurl + \"about-3ds/3dexperience-platform/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Industrias\", \"u\": baseurl + \"industrias/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"Industrias\", \"u\": baseurl + \"Industrias/\"});\n                        links.push({\"n\": \"Produtos e Servicos\", \"u\": baseurl + \"produtos-e-servicos/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"passion-for-innovation/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Parceiros\", \"u\": baseurl + \"parceiros/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\n                            \"n\": \"Consumer Goods & Retail\",\n                            \"u\": baseurl + \"industries/consumer-goods-retail/\"\n                        });\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"Eventos\", \"u\": baseurl + \"eventos/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Produtos e Servicos\", \"u\": baseurl + \"produtos-e-servicos/\"});\n                        break;\n                    default :\n                        break;\n                }\n            } else {\n                compassURL = baseurl + \"about-3ds/3dexperience-platform/\";\n                switch (params.website) {\n                    case \"a\" :\n                        break;\n                    case \"b\" :\n                        links.push({\"n\": \"Industries\", \"u\": baseurl + \"industries/\"});\n                        break;\n                    case \"c\" :\n                        links.push({\"n\": \"Industries\", \"u\": baseurl + \"industries/\"});\n                        links.push({\"n\": \"Products & Services\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    case \"d\" :\n                        links.push({\"n\": \"Passion For Innovation\", \"u\": baseurl + \"3dexperience/\"});\n                        break;\n                    case \"e\" :\n                        links.push({\"n\": \"Partners\", \"u\": baseurl + \"partners/\"});\n                        break;\n                    case \"f\" :\n                        links.push({\n                            \"n\": \"Consumer Goods & Retail\",\n                            \"u\": baseurl + \"industries/consumer-goods-retail/\"\n                        });\n                        break;\n                    case \"g\" :\n                        links.push({\"n\": \"Events\", \"u\": baseurl + \"events/\"});\n                        break;\n                    case \"h\" :\n                        links.push({\"n\": \"Products & Services\", \"u\": baseurl + \"products-services/\"});\n                        break;\n                    default :\n                        break;\n                }\n            }\n            return links;\n        }\n        var links = createQAList();\n        var createItemLink = function (name, url, tag) {\n            return $(\"<\" + tag + \">\").append(\n                $(\"<a>\").attr(\"href\", url).attr(\"title\", name).append($(\"<span>\").html(name))\n            );\n        }\n        var displaySocial = function () {\n            var $list = $(\"<p>\");\n            for (v in soc) {\n                createItemLink(soc[v].n, soc[v].u, \"span\").addClass(soc[v].n).appendTo($list);\n            }\n            $list.find(\"a span\").addClass(pcss + \"hide\");\n            return $list;\n        }\n        var displayQuickAccess = function () {\n            var $list = $(\"<p>\");\n            for (v in links) {\n                createItemLink(links[v].n, links[v].u, \"span\").appendTo($list);\n            }\n            return $list;\n        };\n        var displayID = function () {\n           \n           \n           \n           \n           \n           \n           \n           \n           \n           \n           \n            return $(\"<span>\");\n        }\n\n\n        var customMediaQueries = function () {\n\n            if (params.mediaqueries) {\n\n                var mq_style = \"\";\n\n                for (var i = 0; i < params.mediaqueries.length; i++) {\n\n                    mq_style += \"@media screen %min_rule% %max_rule% { %rules% }\";\n                    var min_rule = \"and ( min-width: %min% )\";\n                    var max_rule = \"and ( max-width: %max% )\";\n\n                    var mq_i = params.mediaqueries[i];\n\n                    if (mq_i.min && mq_i.min != null && mq_i.min != \"\") {\n                        min_rule = min_rule.replace('%min%', mq_i.min);\n                        mq_style = mq_style.replace(\"%min_rule%\", min_rule);\n                    } else {\n                        mq_style = mq_style.replace(\"%min_rule%\", \"\");\n                    }\n\n                    if (mq_i.max && mq_i.max != null && mq_i.max != \"\") {\n                        max_rule = max_rule.replace('%max%', mq_i.max);\n                        mq_style = mq_style.replace(\"%max_rule%\", max_rule);\n                    } else {\n                        mq_style = mq_style.replace(\"%max_rule%\", \"\");\n                    }\n\n                    var rules = \"\";\n\n                    if (mq_i.width && mq_i.width != null && mq_i.width != \"\") {\n                        rules += \".ds_center { width: \" + mq_i.width + \" !important; }\"\n                    }\n                    if (mq_i.margin && mq_i.margin != null && mq_i.margin != \"\") {\n                        rules += \".ds_inner { padding: 0 \" + mq_i.margin + \" !important; }\"\n                    }\n\n                    mq_style = mq_style.replace('%rules%', rules);\n\n                }\n\n                $('body').append($('<style>').html(mq_style));\n            }\n        }\n\n\n        var displayFooterLinks = function () {\n\n            var date = new Date();\n            var copy_begin = \"© 2002-\" + date.getFullYear() + \" Dassault Systèmes - \";\n            var $list = $(\"<p>\");\n            var $links = [];\n            var $copy = $(\"<span>\");\n\n            if (params.language == \"fr\") {\n                $links.push({\"n\": \"Informations légales\", \"u\": baseurl + \"mentions-legales/\"});\n                $links.push({\"n\": \"Conditions d'utilisation\", \"u\": baseurl + \"conditions-dutilisation/\"});\n                $links.push({\n                    \"n\": \"Politique de confidentialité\",\n                    \"u\": baseurl + \"politique-de-protection-des-donnees-personnelles/\"\n                });\n                $links.push({\"n\": \"Piratage\", \"u\": baseurl + \"piratage/\"});\n                $copy.html(copy_begin + \"Tous droits réservés\");\n            } else if (params.language == \"de\") {\n                $links.push({\"n\": \"Rechtliche Hinweise\", \"u\": baseurl + \"rechtliche-hinweise/\"});\n                $links.push({\"n\": \"Nutzungsbedinungen\", \"u\": baseurl + \"nutzungsbedingungen/\"});\n                $links.push({\"n\": \"Datenschutzrichtlinie\", \"u\": baseurl + \"datenschutzrichtlinie/\"});\n                $links.push({\"n\": \"Piraterie\", \"u\": baseurl + \"piraterie/\"});\n                $copy.html(copy_begin + \"Sämtliche Rechte vorbehalten\");\n            } else if (params.language == \"it\") {\n                $links.push({\"n\": \"Informazioni legali\", \"u\": baseurl + \"informazioni-legali/\"});\n                $links.push({\"n\": \"Condizioni d'uso\", \"u\": baseurl + \"condizioni-duso/\"});\n                $links.push({\n                    \"n\": \"Principi di tutela della privacy\",\n                    \"u\": baseurl + \"principi-di-tutela-della-privacy/\"\n                });\n                $links.push({\"n\": \"Pirateria\", \"u\": baseurl + \"pirateria/\"});\n                $copy.html(copy_begin + \"Tutti i diritti riservati\");\n            } else if (params.language == \"ru\") {\n                $links.push({\"n\": \"Юридическая информация\", \"u\": baseurl + \"juridicheskaja-informacija/\"});\n                $links.push({\"n\": \"Условия использования\", \"u\": baseurl + \"pravila-ispolzovanija/\"});\n                $links.push({\n                    \"n\": \"Политика конфиденциальности\",\n                    \"u\": baseurl + \"pravila-obrabotki-chastnoi-informacii/\"\n                });\n                $links.push({\"n\": \"Пиратство\", \"u\": baseurl + \"borba-s-piratstvom/\"});\n                $copy.html(copy_begin + \"Все права защищены\");\n            } else if (params.language == \"es\") {\n                $links.push({\"n\": \"Información legal\", \"u\": baseurl + \"informacion-legal/\"});\n                $links.push({\"n\": \"Condiciones de uso\", \"u\": baseurl + \"terminos-y-condiciones-de-uso/\"});\n                $links.push({\"n\": \"Política de privacidad\", \"u\": baseurl + \"politica-de-privacidad/\"});\n                $links.push({\"n\": \"Piratería\", \"u\": baseurl + \"pirateria/\"});\n                $copy.html(copy_begin + \"Todos los derechos reservados\");\n            } else if (params.language == \"ko\") {\n                $links.push({\"n\": \"법률 정보\", \"u\": baseurl + \"legal-information/\"});\n                $links.push({\"n\": \"사용권 계약\", \"u\": baseurl + \"terms-of-use/\"});\n                $links.push({\"n\": \"개인정보 보호정책\", \"u\": baseurl + \"privacy-policy/\"});\n                $links.push({\"n\": \"저작권 침해\", \"u\": baseurl + \"piracy/\"});\n                $copy.html(copy_begin + \"Copyright\");\n            } else if (params.language == \"zh\") {\n                $links.push({\"n\": \"法律信息\", \"u\": baseurl + \"legal-information/\"});\n                $links.push({\"n\": \"使用条款\", \"u\": baseurl + \"terms-of-use/\"});\n                $links.push({\"n\": \"隐私政策\", \"u\": baseurl + \"privacy-policy/\"});\n                $links.push({\"n\": \"隐私\", \"u\": baseurl + \"piracy/\"});\n                $copy.html(copy_begin + \"保留所有权利\");\n            } else if (params.language == \"ja\") {\n                $links.push({\"n\": \"法的事項\", \"u\": baseurl + \"legal-information/\"});\n                $links.push({\"n\": \"利用規約\", \"u\": baseurl + \"terms-of-use/\"});\n                $links.push({\"n\": \"個人情報管理方針\", \"u\": baseurl + \"privacy-policy/\"});\n                $links.push({\"n\": \"著作権侵害\", \"u\": baseurl + \"piracy/\"});\n                $copy.html(copy_begin + \"無断複写・複製・転載を禁ず\");\n            } else if (params.language == \"se\") {\n                $links.push({\"n\": \"Juridisk information\", \"u\": baseurl + \"laglig-information/\"});\n                $links.push({\"n\": \"Användarvillkor\", \"u\": baseurl + \"anvaendningsvillkor/\"});\n                $links.push({\"n\": \"Sekretesspolicy\", \"u\": baseurl + \"politik-gaellande-personuppgifter/\"});\n                $links.push({\"n\": \"Piratkopiering\", \"u\": baseurl + \"piratkopiering/\"});\n                $copy.html(copy_begin + \"Med ensamrätt\");\n            } else {\n                $links.push({\"n\": \"Legal Info\", \"u\": baseurl + \"legal-information/\"});\n                $links.push({\"n\": \"Terms of use\", \"u\": baseurl + \"terms-of-use/\"});\n                $links.push({\"n\": \"Privacy policy\", \"u\": baseurl + \"privacy-policy/\"});\n                $links.push({\"n\": \"Piracy\", \"u\": baseurl + \"piracy/\"});\n                $copy.html(copy_begin + \"All rights reserved\");\n            }\n\n           \n            for (v in $links) {\n                var $pipe = $(\"<span>\").addClass(pcss + \"pipe\");\n                var first = 0;\n                var last = $links.length - 1;\n               \n                                if (v == last) {\n                    createItemLink($links[v].n, $links[v].u, \"span\").appendTo($list);\n                } else {\n                    createItemLink($links[v].n, $links[v].u, \"span\").append($pipe).appendTo($list.append(' '));\n                }\n            }\n\n            $list.append($(\"<span>\").addClass(pcss + \"copy\").append($copy));\n            return $list;\n        };\n        return this.each(function () {\n            var $this = $(this);\n            $this.css(\"padding-top\", \"56px\").css(\"position\", \"inherit\");\n\n            var $logo = $(\"<h3>\").addClass(pcss + \"logo\").append(\n                $(\"<a>\").attr(\"href\", baseurl).append(\n                    $(\"<span>\").addClass(pcss + \"hide\").html(\"Dassault Systèmes\")\n                )\n            );\n\n\n           \n            var $btnSocial = $(\"<span>\").addClass(pcss + \"btn\").append(\n                $(\"<span>\").addClass(pcss + \"hide\").html(\"Tools\")\n            ).on(\"click\", function () {\n                    $sliderSocial.stop().animate({width: 'toggle'}, {\"duration\": 500, \"easing\": \"swing\"});\n                    $(\".h3ds_social\").stop().animate({width: 'toggle'}, {\"duration\": 500, \"easing\": \"swing\"});\n                   \n                });\n\n            var $sliderSocial = $(\"<div>\").addClass(pcss + \"slider\").hide().append(displaySocial());\n           \n            $btnSocial.append($sliderSocial);\n           \n\n\n           \n            var $trigram = $(\"<span>\").addClass(pcss + \"trigram\")\n            $trigram.append(\n                $(\"<span>\").addClass(pcss + \"trigram_content\").append(\n                    $(\"<div>\").addClass(pcss + \"txt\")\n                )\n            );\n\n           \n\n           \n            var $connect = $(\"<span>\").addClass((pcss + \"connect\"));\n            $connect.append(\n                $(\"<a>\").addClass(pcss + \"banner-btn\").append('Connect')\n            );\n\n            var $modal = $(\"<div>\")\n                .addClass('modal')\n                .addClass('fade')\n                .attr('id', options.modalId)\n                .attr('tabindex', '-1')\n                .attr('role', 'dialog')\n                .attr('aria-hidden', 'true').append(\n                $(\"<div>\").addClass('modal-dialog').append(\n                    $(\"<div>\").addClass('modal-content').append(\n                        $(\"<div>\").addClass('modal-body').append(\n                            $(\"<button>\")\n                                .addClass('close')\n                                .attr('type', 'button')\n                                .attr('data-dismiss', 'modal')\n                                .attr('aria-label', 'Close').append(\n                                $(\"<span>\").attr('aria-hidden', 'true')\n                            )\n                        ).append(\n                            $(\"<iframe>\")\n                                .attr('id', options.modalId + '-iframe')\n                                .attr('src', '')\n                                .attr('width', '100%')\n                                .attr('height', '100%')\n                                .attr('frameborder', '0')\n                                .attr('allowtransparency', 'true')\n                        )\n                    )\n                )\n            );\n\n           \n\n            var $layerID = $(\"<div>\").addClass(pcss + \"id\").append(displayID()); \n\n            var $compassA = $(\"<a>\").attr(\"href\", compassURL); \n            var $compass = $(\"<div>\").addClass(pcss + \"compass\").append($compassA); \n\n\n            var $quickAccess = $(\"<div>\").addClass(pcss + \"links\").append(displayQuickAccess());\n            var $rightSide = $(\"<div>\").addClass(pcss + \"right\")//.append($btnSocial);//.append($sliderSocial);\n            var $header = $(\"<div>\").addClass(\"ds\").addClass(pcss + params.bgcolor);\n            var $headerWinner = $(\"<div>\").addClass(pcss + \"inner\").css(\"padding\", \"0 \" + params.margin + \"px\");\n            var $headerW = $(\"<div>\").addClass(pcss + \"center\").width(params.width);\n            if (!params.hasborder) {\n                $header.addClass(pcss + \"noborder\");\n            }\n\n            var $footer = $(\"<div>\").addClass(\"ds\").addClass(pcss + \"footer\").addClass(pcss + params.bgcolor);\n            var $footerW = $(\"<div>\").addClass(pcss + \"center\").width(params.width);\n            var $footerLinks = $(\"<div>\").addClass(pcss + \"flinks\").append(displayFooterLinks());\n            customMediaQueries();\n\n            var iconClass = \"\";\n            switch (params.bgcolor) {\n                case \"black\":\n                    iconClass = \"txtlight\";\n                    break;\n                case \"dark\":\n                    iconClass = \"txtlight\";\n                    break;\n                case \"grey\":\n                    iconClass = \"txtlight\";\n                    break;\n                case \"light\":\n                    iconClass = \"txtdark\";\n                    break;\n                case \"white\":\n                    iconClass = \"txtblue\";\n                    break;\n                case \"blue\":\n                    iconClass = \"txtlight\";\n                    break;\n                default:\n                    iconClass = \"txtblue\";\n                    break;\n            }\n            $header.addClass(pcss + iconClass);\n            $footer.addClass(pcss + iconClass);\n\n           \n            $header.append($headerW.append($headerWinner.append($logo).append($rightSide.append($quickAccess))));\n\n            if (params.haslogin) {\n                $layerID.prependTo($rightSide);\n            }\n\n            if (params.hassocial) {\n                $btnSocial.prependTo($rightSide);\n            }\n\n            if (params.hastrigram) {\n                $trigram.prependTo($rightSide);\n            }\n\n            if (params.hasconnect) {\n                $connect.prependTo($rightSide);\n            }\n\n            if (params.hascompass) {\n                $compass.prependTo($rightSide);\n            }\n\n            if (params.display_social_btn) {\n                $compass.prependTo($rightSide);\n            }\n\n            $footer.append($footerLinks);\n            $footer.append($footerW.append($footerLinks));\n\n\n            $header.prependTo($this);\n            $modal.prependTo($this);\n            if (params.hasfooter) {\n                $footer.appendTo($this);\n            } else {\n               \n            }\n            if (params.callback) {\n                params.callback();\n            }\n        });\n    };\n\n})(jQuery);\n\n\n\n\nvar I18n = function (options) {\n    this.options = $.extend({}, this.DEFAULTS, options);\n};\n\nI18n.prototype.VERSION = '0.0.1';\nI18n.prototype.DEFAULTS = {\n    lang: 'en'\n};\n\nI18n.prototype.byString = function(o, s) {\n    s = s.replace(/\\[(\\w+)\\]/g, '.$1');\n    s = s.replace(/^\\./, '');          \n    var a = s.split('.');\n    for (var i = 0, n = a.length; i < n; ++i) {\n        var k = a[i];\n        if (k in o) {\n            o = o[k];\n        } else {\n            return;\n        }\n    }\n    return o;\n};\n\nI18n.prototype.instance = undefined;\nI18n.prototype.getInstance = function (options) {\n    if (I18n.prototype.instance === undefined || I18n.prototype.instance === null) {\n        I18n.prototype.instance = new I18n(options);\n    }\n    return I18n.prototype.instance;\n};\n\nI18n.prototype.t = function (name) {\n    return I18n.prototype.byString($_i18nData, this.options.lang.concat('.', name));\n};\n\nI18n.prototype.setLang = function (value) {\n   this.options.lang = value;\n    return this;\n};\n\njQuery.extend({\n    i18n: function (options) {\n        return new I18n.prototype.getInstance(options);\n    },\n    t: function (name) {\n        return new I18n.prototype.getInstance().t(name);\n    }\n});\n\n\n\n\n\n+function ($) {\n    'use strict';\n\n   \n   \n\n    var Modal = function (element, options) {\n        this.options             = options\n        this.$body               = $(document.body)\n        this.$element            = $(element)\n        this.$dialog             = this.$element.find('.modal-dialog')\n        this.$backdrop           = null\n        this.isShown             = null\n        this.originalBodyPad     = null\n        this.scrollbarWidth      = 0\n        this.ignoreBackdropClick = false\n\n        if (this.options.remote) {\n            this.$element\n                .find('.modal-content')\n                .load(this.options.remote, $.proxy(function () {\n                    this.$element.trigger('loaded.bs.modal')\n                }, this))\n        }\n    }\n\n    Modal.VERSION  = '0.0.1'\n\n    Modal.TRANSITION_DURATION = 300\n    Modal.BACKDROP_TRANSITION_DURATION = 150\n\n    Modal.DEFAULTS = {\n        backdrop: true,\n        keyboard: true,\n        show: true\n    }\n\n    Modal.prototype.toggle = function (_relatedTarget) {\n        return this.isShown ? this.hide() : this.show(_relatedTarget)\n    }\n\n    Modal.prototype.show = function (_relatedTarget) {\n        var that = this\n        var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })\n\n        this.$element.trigger(e)\n\n        if (this.isShown || e.isDefaultPrevented()) return\n\n        this.isShown = true\n\n        this.checkScrollbar()\n        this.setScrollbar()\n        this.$body.addClass('modal-open')\n\n        this.escape()\n        this.resize()\n\n        this.$element.on('click.dismiss.bs.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this))\n\n        this.$dialog.on('mousedown.dismiss.bs.modal', function () {\n            that.$element.one('mouseup.dismiss.bs.modal', function (e) {\n                if ($(e.target).is(that.$element)) that.ignoreBackdropClick = true\n            })\n        })\n\n        this.backdrop(function () {\n            var transition = $.support.transition && that.$element.hasClass('fade')\n\n            if (!that.$element.parent().length) {\n                that.$element.appendTo(that.$body)\n            }\n\n            that.$element\n                .show()\n                .scrollTop(0)\n\n            that.adjustDialog()\n\n            if (transition) {\n                that.$element[0].offsetWidth\n            }\n\n            that.$element.addClass('in')\n\n            that.enforceFocus()\n\n            var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })\n\n            transition ?\n                that.$dialog\n                    .one('bsTransitionEnd', function () {\n                        that.$element.trigger('focus').trigger(e)\n                    })\n                    .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n                that.$element.trigger('focus').trigger(e)\n        })\n    }\n\n    Modal.prototype.hide = function (e) {\n        if (e) e.preventDefault()\n\n        e = $.Event('hide.bs.modal')\n\n        this.$element.trigger(e)\n\n        if (!this.isShown || e.isDefaultPrevented()) return\n\n        this.isShown = false\n\n        this.escape()\n        this.resize()\n\n        $(document).off('focusin.bs.modal')\n\n        this.$element\n            .removeClass('in')\n            .off('click.dismiss.bs.modal')\n            .off('mouseup.dismiss.bs.modal')\n\n        this.$dialog.off('mousedown.dismiss.bs.modal')\n\n        $.support.transition && this.$element.hasClass('fade') ?\n            this.$element\n                .one('bsTransitionEnd', $.proxy(this.hideModal, this))\n                .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n            this.hideModal()\n    }\n\n    Modal.prototype.enforceFocus = function () {\n        $(document)\n            .off('focusin.bs.modal')\n            .on('focusin.bs.modal', $.proxy(function (e) {\n                if (this.$element[0] !== e.target && !this.$element.has(e.target).length) {\n                    this.$element.trigger('focus')\n                }\n            }, this))\n    }\n\n    Modal.prototype.escape = function () {\n        if (this.isShown && this.options.keyboard) {\n            this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {\n                e.which == 27 && this.hide()\n            }, this))\n        } else if (!this.isShown) {\n            this.$element.off('keydown.dismiss.bs.modal')\n        }\n    }\n\n    Modal.prototype.resize = function () {\n        if (this.isShown) {\n            $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))\n        } else {\n            $(window).off('resize.bs.modal')\n        }\n    }\n\n    Modal.prototype.iframeLastHeight = 0;\n    Modal.prototype.setIframeHeight = function (value) {\n        if(this.iframeLastHeight != value){\n            this.$element.find('iframe').css('height', (Modal.prototype.iframeLastHeight = value) + 'px');\n        }\n    }\n\n    Modal.prototype.iframeLastWidth = 0;\n    Modal.prototype.setIframeWidth = function (value) {\n        if(this.iframeLastWidth != value){\n            this.$element.find('iframe').css('width', (Modal.prototype.iframeLastWidth = value) +'px');\n        }\n    }\n\n    Modal.prototype.hideModal = function () {\n        var that = this\n        this.$element.hide()\n        this.backdrop(function () {\n            that.$body.removeClass('modal-open')\n            that.resetAdjustments()\n            that.resetScrollbar()\n            that.$element.trigger('hidden.bs.modal')\n        })\n    }\n\n    Modal.prototype.removeBackdrop = function () {\n        this.$backdrop && this.$backdrop.remove()\n        this.$backdrop = null\n    }\n\n    Modal.prototype.backdrop = function (callback) {\n        var that = this\n        var animate = this.$element.hasClass('fade') ? 'fade' : ''\n\n        if (this.isShown && this.options.backdrop) {\n            var doAnimate = $.support.transition && animate\n\n            this.$backdrop = $(document.createElement('div'))\n                .addClass('modal-backdrop ' + animate)\n                .appendTo(this.$body)\n\n            this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {\n                if (this.ignoreBackdropClick) {\n                    this.ignoreBackdropClick = false\n                    return\n                }\n                if (e.target !== e.currentTarget) return\n                this.options.backdrop == 'static'\n                    ? this.$element[0].focus()\n                    : this.hide()\n            }, this))\n\n            if (doAnimate) this.$backdrop[0].offsetWidth\n\n            this.$backdrop.addClass('in')\n\n            if (!callback) return\n\n            doAnimate ?\n                this.$backdrop\n                    .one('bsTransitionEnd', callback)\n                    .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n                callback()\n\n        } else if (!this.isShown && this.$backdrop) {\n            this.$backdrop.removeClass('in')\n\n            var callbackRemove = function () {\n                that.removeBackdrop()\n                callback && callback()\n            }\n            $.support.transition && this.$element.hasClass('fade') ?\n                this.$backdrop\n                    .one('bsTransitionEnd', callbackRemove)\n                    .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n                callbackRemove()\n\n        } else if (callback) {\n            callback()\n        }\n    }\n\n   \n\n    Modal.prototype.handleUpdate = function () {\n        this.adjustDialog()\n    }\n\n    Modal.prototype.adjustDialog = function () {\n        var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight\n\n        this.$element.css({\n            paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',\n            paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''\n        })\n    }\n\n    Modal.prototype.resetAdjustments = function () {\n        this.$element.css({\n            paddingLeft: '',\n            paddingRight: ''\n        })\n    }\n\n    Modal.prototype.checkScrollbar = function () {\n        var fullWindowWidth = window.innerWidth\n        if (!fullWindowWidth) {\n            var documentElementRect = document.documentElement.getBoundingClientRect()\n            fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)\n        }\n        this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth\n        this.scrollbarWidth = this.measureScrollbar()\n    }\n\n    Modal.prototype.setScrollbar = function () {\n        var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)\n        this.originalBodyPad = document.body.style.paddingRight || ''\n        if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)\n    }\n\n    Modal.prototype.resetScrollbar = function () {\n        this.$body.css('padding-right', this.originalBodyPad)\n    }\n\n    Modal.prototype.measureScrollbar = function () {\n        var scrollDiv = document.createElement('div')\n        scrollDiv.className = 'modal-scrollbar-measure'\n        this.$body.append(scrollDiv)\n        var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\n        this.$body[0].removeChild(scrollDiv)\n        return scrollbarWidth\n    }\n\n\n   \n   \n\n    function Plugin(option, _relatedTarget) {\n        return this.each(function () {\n            var $this   = $(this)\n            var data    = $this.data('bs.modal')\n            var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n            if (!data) $this.data('bs.modal', (data = new Modal(this, options)))\n            if (typeof option == 'string') data[option](_relatedTarget)\n            else if (options.show) data.show(_relatedTarget)\n        })\n    }\n\n    var old = $.fn.modal\n\n    $.fn.modal             = Plugin\n    $.fn.modal.Constructor = Modal\n\n\n   \n   \n\n    $.fn.modal.noConflict = function () {\n        $.fn.modal = old\n        return this\n    }\n\n\n   \n   \n\n    $(document).on('click.bs.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n        var $this   = $(this)\n        var href    = $this.attr('href')\n        var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, '')))\n        var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n\n        if ($this.is('a')) e.preventDefault()\n\n        $target.one('show.bs.modal', function (showEvent) {\n            if (showEvent.isDefaultPrevented()) return\n            $target.one('hidden.bs.modal', function () {\n                $this.is(':visible') && $this.trigger('focus')\n            })\n        })\n        Plugin.call($target, option, this)\n    })\n\n}(jQuery);\n\n\n+function ($) {\n    'use strict';\n\n   \n   \n\n    function transitionEnd() {\n        var el = document.createElement('bootstrap')\n\n        var transEndEventNames = {\n            WebkitTransition : 'webkitTransitionEnd',\n            MozTransition    : 'transitionend',\n            OTransition      : 'oTransitionEnd otransitionend',\n            transition       : 'transitionend'\n        }\n\n        for (var name in transEndEventNames) {\n            if (el.style[name] !== undefined) {\n                return { end: transEndEventNames[name] }\n            }\n        }\n\n        return false\n    }\n\n   \n    $.fn.emulateTransitionEnd = function (duration) {\n        var called = false\n        var $el = this\n        $(this).one('bsTransitionEnd', function () { called = true })\n        var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\n        setTimeout(callback, duration)\n        return this\n    }\n\n    $(function () {\n        $.support.transition = transitionEnd()\n\n        if (!$.support.transition) return\n\n        $.event.special.bsTransitionEnd = {\n            bindType: $.support.transition.end,\n            delegateType: $.support.transition.end,\n            handle: function (e) {\n                if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n            }\n        }\n    })\n\n}(jQuery);\nString.prototype.capitalize = function () {\n    return this.charAt(0).toUpperCase() + this.slice(1);\n}\n\n\n\n\n\nvar ServiceManager = function () {\n};\n\nString.prototype.capitalize = function () {\n    return this.charAt(0).toUpperCase() + this.slice(1);\n}\nServiceManager.prototype.VERSION = '0.0.1'\nServiceManager.prototype.DEFAULTS = {}\n\nServiceManager.prototype.instance = undefined;\nServiceManager.prototype.getInstance = function () {\n    if (ServiceManager.prototype.instance === undefined || ServiceManager.prototype.instance === null) {\n        ServiceManager.prototype.instance = new ServiceManager();\n    }\n    return ServiceManager.prototype.instance;\n}\n\nServiceManager.prototype.get = function (name, options) {\n    return eval(name.capitalize() + \"Service.prototype.getInstance\").apply(options);\n}\n\njQuery.extend({\n    service: function (name, options) {\n        if (name) {\n            return new ServiceManager.prototype.getInstance().get(name, options);\n        }\n\n        return new ServiceManager.prototype.getInstance();\n    }\n});\n\n\n\n\nvar Setting3DS = function (options) {\n    this.options = $.extend({}, this.DEFAULTS, options);\n};\n\nSetting3DS.prototype.VERSION = '0.0.1'\nSetting3DS.prototype.DEFAULTS = {}\n\nSetting3DS.prototype.options = {};\nSetting3DS.prototype.instance = null;\n\nSetting3DS.prototype.getInstance = function (options) {\n    if (Setting3DS.prototype.instance === undefined || Setting3DS.prototype.instance === null) {\n        Setting3DS.prototype.instance = new Setting3DS(options);\n    }\n    return Setting3DS.prototype.instance;\n}\n\nSetting3DS.prototype.byString = function (o, s) {\n    s = s.replace(/\\[(\\w+)\\]/g, '.$1');\n    s = s.replace(/^\\./, '');          \n    var a = s.split('.');\n    for (var i = 0, n = a.length; i < n; ++i) {\n        var k = a[i];\n        if (k in o) {\n            o = o[k];\n        } else {\n            return;\n        }\n    }\n    return o;\n};\n\nSetting3DS.prototype.set = function (key, value) {\n    this.options[key] = value;\n    return this;\n}\n\nSetting3DS.prototype.get = function (key) {\n    return Setting3DS.prototype.byString(this.options, key);\n}\n\n\n\n\nvar UserCookie = function (options) {\n    this.options = $.extend({}, this.DEFAULTS, options);\n    WatchJS.watch(this, \"data\", function (prop, action, newvalue, oldvalue) {\n        if (newvalue !== undefined || newvalue !== null) {\n            this._createCookie(newvalue);\n            this.options.user_connected_callback();\n        } else {\n            this.options.user_disconnected_callback();\n        }\n    });\n\n    this.auth();\n};\n\nUserCookie.prototype.AUTH_COOKIE_NAME = '3ds-auth';\nUserCookie.prototype.VERSION = '0.0.1';\nUserCookie.prototype.DEFAULTS = {\n    domain: '',\n    lifetime: (60 * 60 * 24 * 1),\n    path: '/',\n    \"user_connected_callback\": function () {\n        $(document).trigger(\"3DSUserHasConnectedEvent\", [UserCookie.prototype.instance]);\n    },\n    \"user_disconnected_callback\": function () {\n        $(document).trigger(\"3DSUserHasDisconnectedEvent\", [UserCookie.prototype.instance]);\n    },\n    \"api_error_callback\": function () {\n        $(document).trigger(\"3DSApiErrorEvent\", [UserCookie.prototype.instance]);\n    }\n}\n\nUserCookie.prototype.options = {};\nUserCookie.prototype.data = null;\nUserCookie.prototype.instance = null;\n\nUserCookie.prototype.getInstance = function (options) {\n    if (UserCookie.prototype.instance === undefined || UserCookie.prototype.instance === null) {\n        UserCookie.prototype.instance = new UserCookie(options);\n    }\n    return UserCookie.prototype.instance;\n}\n\nUserCookie.prototype.auth = function (force) {\n    if (this.isConnected() && this._validCookie() && !force) {\n        return this._loadCookie();\n    } else if (this._validCookie() && !force) {\n        this._loadCookie();\n    }\n\n    var self = this;\n\n    $.service('user').info((function (data) {\n        if (!data) {\n            self._setCookie(self.AUTH_COOKIE_NAME, false);\n            self.options.api_error_callback();\n        } else if (data.hasOwnProperty('error')) {\n            self._setCookie(self.AUTH_COOKIE_NAME, false);\n            self.options.user_disconnected_callback();\n        } else {\n            self._setData(data);\n        }\n    }));\n}\n\nUserCookie.prototype.isConnected = function () {\n    if (this._getCookie(this.AUTH_COOKIE_NAME) == true) {\n        return true;\n    }\n}\n\nUserCookie.prototype.logout = function () {\n    this._setCookie(this.AUTH_COOKIE_NAME, false);\n    this.options.user_disconnected_callback();\n}\n\nUserCookie.prototype._setData = function (data) {\n    if (data === undefined || data === null || !data) {\n        this.data = null;\n    } else if (this._isNewData(this.data, data)) {\n        this.data = data;\n    }\n}\n\nUserCookie.prototype._isNewData = function (oldData, newData) {\n    if (oldData === undefined || oldData === null || !oldData) {\n        return true;\n    } else {\n        for (var k in newData) {\n            if (!oldData.hasOwnProperty(k) || oldData[k] != newData[k]) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n\nUserCookie.prototype._validCookie = function () {\n    if (this._getCookie('lastName') === (undefined || null)) {\n        return false;\n    } else if (this._getCookie('firstName') === (undefined || null)) {\n        return false;\n    } else if (this._getCookie('userStatus') === (undefined || null)) {\n        return false;\n    }\n\n    return true;\n}\n\nUserCookie.prototype._loadCookie = function () {\n    var data = {\n        \"lastName\": this._getCookie('lastName'),\n        \"firstName\": this._getCookie('firstName'),\n        \"userStatus\": this._getCookie('userStatus'),\n    };\n\n    this._setData(data);\n}\n\nUserCookie.prototype._createCookie = function (data) {\n    for (k in data) {\n        this._setCookie(k, data[k]);\n    }\n    this._setCookie(this.AUTH_COOKIE_NAME, true);\n}\n\n\nUserCookie.prototype._setCookie = function (name, value) {\n    var date = new Date();\n    date.setTime(date.getTime() + (this.options.lifetime));\n    var expires = \"; expires=\" + date.toGMTString();\n\n    var cookie = name + \"=\" + value + expires + \"; path=\" + this.options.path;\n    if (this.options.domain !== undefined && this.options.domain !== null && this.options.domain != '') {\n        cookie += \"; domain=\" + this.options.domain;\n    }\n    document.cookie = cookie;\n}\n\nUserCookie.prototype._getCookie = function (name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n}\n\nUserCookie.prototype.trigram = function () {\n    try {\n        var $return = this._getCookie('firstName').charAt(0).toUpperCase() + this._getCookie('lastName').charAt(0).toUpperCase();\n    } catch (err) {\n        return '';\n    }\n    return $return;\n\n};\n\n(function (factory) {\n    if (typeof exports === 'object') {\n       \n       \n       \n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n       \n        define(factory);\n    } else {\n       \n        window.WatchJS = factory();\n        window.watch = window.WatchJS.watch;\n        window.unwatch = window.WatchJS.unwatch;\n        window.callWatchers = window.WatchJS.callWatchers;\n    }\n}(function () {\n    var WatchJS = {\n            noMore: false,       \n            useDirtyCheck: false\n        },\n        lengthsubjects = [];\n\n    var dirtyChecklist = [];\n    var pendingChanges = [];\n\n    var supportDefineProperty = false;\n    try {\n        supportDefineProperty = Object.defineProperty && Object.defineProperty({},'x', {});\n    } catch(ex) {    }\n\n    var isFunction = function (functionToCheck) {\n        var getType = {};\n        return functionToCheck && getType.toString.call(functionToCheck) == '[object Function]';\n    };\n\n    var isInt = function (x) {\n        return x % 1 === 0;\n    };\n\n    var isArray = function(obj) {\n        return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n\n    var isObject = function(obj) {\n        return {}.toString.apply(obj) === '[object Object]';\n    };\n\n    var getObjDiff = function(a, b){\n        var aplus = [],\n            bplus = [];\n\n        if(!(typeof a == \"string\") && !(typeof b == \"string\")){\n\n            if (isArray(a)) {\n                for (var i=0; i<a.length; i++) {\n                    if (b[i] === undefined) aplus.push(i);\n                }\n            } else {\n                for(var i in a){\n                    if (a.hasOwnProperty(i)) {\n                        if(b[i] === undefined) {\n                            aplus.push(i);\n                        }\n                    }\n                }\n            }\n\n            if (isArray(b)) {\n                for (var j=0; j<b.length; j++) {\n                    if (a[j] === undefined) bplus.push(j);\n                }\n            } else {\n                for(var j in b){\n                    if (b.hasOwnProperty(j)) {\n                        if(a[j] === undefined) {\n                            bplus.push(j);\n                        }\n                    }\n                }\n            }\n        }\n\n        return {\n            added: aplus,\n            removed: bplus\n        }\n    };\n\n    var clone = function(obj){\n\n        if (null == obj || \"object\" != typeof obj) {\n            return obj;\n        }\n\n        var copy = obj.constructor();\n\n        for (var attr in obj) {\n            copy[attr] = obj[attr];\n        }\n\n        return copy;\n\n    }\n\n    var defineGetAndSet = function (obj, propName, getter, setter) {\n        try {\n            Object.observe(obj, function(changes) {\n                changes.forEach(function(change) {\n                    if (change.name === propName) {\n                        setter(change.object[change.name]);\n                    }\n                });\n            });\n        }\n        catch(e) {\n            try {\n                Object.defineProperty(obj, propName, {\n                    get: getter,\n                    set: function(value) {\n                        setter.call(this,value,true);\n                    },\n                    enumerable: true,\n                    configurable: true\n                });\n            }\n            catch(e2) {\n                try{\n                    Object.prototype.__defineGetter__.call(obj, propName, getter);\n                    Object.prototype.__defineSetter__.call(obj, propName, function(value) {\n                        setter.call(this,value,true);\n                    });\n                }\n                catch(e3) {\n                    observeDirtyChanges(obj,propName,setter);\n                   \n                }\n            }\n        }\n    };\n\n    var defineProp = function (obj, propName, value) {\n        try {\n            Object.defineProperty(obj, propName, {\n                enumerable: false,\n                configurable: true,\n                writable: false,\n                value: value\n            });\n        } catch(error) {\n            obj[propName] = value;\n        }\n    };\n\n    var observeDirtyChanges = function(obj,propName,setter) {\n        dirtyChecklist[dirtyChecklist.length] = {\n            prop:       propName,\n            object:     obj,\n            orig:       clone(obj[propName]),\n            callback:   setter\n        }\n    }\n\n    var watch = function () {\n\n        if (isFunction(arguments[1])) {\n            watchAll.apply(this, arguments);\n        } else if (isArray(arguments[1])) {\n            watchMany.apply(this, arguments);\n        } else {\n            watchOne.apply(this, arguments);\n        }\n\n    };\n\n\n    var watchAll = function (obj, watcher, level, addNRemove) {\n\n        if ((typeof obj == \"string\") || (!(obj instanceof Object) && !isArray(obj))) {\n            return;\n        }\n\n        if(isArray(obj)) {\n            defineWatcher(obj, \"__watchall__\", watcher, level);\n            if (level===undefined||level > 0) {\n                for (var prop = 0; prop < obj.length; prop++) {\n                    watchAll(obj[prop],watcher,level, addNRemove);\n                }\n            }\n        }\n        else {\n            var prop,props = [];\n            for (prop in obj) {\n                if (prop == \"$val\" || (!supportDefineProperty && prop === 'watchers')) {\n                    continue;\n                }\n\n                if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n                    props.push(prop);\n                }\n            }\n            watchMany(obj, props, watcher, level, addNRemove);\n        }\n\n\n        if (addNRemove) {\n            pushToLengthSubjects(obj, \"$$watchlengthsubjectroot\", watcher, level);\n        }\n    };\n\n\n    var watchMany = function (obj, props, watcher, level, addNRemove) {\n\n        if ((typeof obj == \"string\") || (!(obj instanceof Object) && !isArray(obj))) {\n            return;\n        }\n\n        for (var i=0; i<props.length; i++) {\n            var prop = props[i];\n            watchOne(obj, prop, watcher, level, addNRemove);\n        }\n\n    };\n\n    var watchOne = function (obj, prop, watcher, level, addNRemove) {\n        if ((typeof obj == \"string\") || (!(obj instanceof Object) && !isArray(obj))) {\n            return;\n        }\n\n        if(isFunction(obj[prop])) {\n            return;\n        }\n        if(obj[prop] != null && (level === undefined || level > 0)){\n            watchAll(obj[prop], watcher, level!==undefined? level-1 : level);\n        }\n\n        defineWatcher(obj, prop, watcher, level);\n\n        if(addNRemove && (level === undefined || level > 0)){\n            pushToLengthSubjects(obj, prop, watcher, level);\n        }\n\n    };\n\n    var unwatch = function () {\n\n        if (isFunction(arguments[1])) {\n            unwatchAll.apply(this, arguments);\n        } else if (isArray(arguments[1])) {\n            unwatchMany.apply(this, arguments);\n        } else {\n            unwatchOne.apply(this, arguments);\n        }\n\n    };\n\n    var unwatchAll = function (obj, watcher) {\n\n        if (obj instanceof String || (!(obj instanceof Object) && !isArray(obj))) {\n            return;\n        }\n\n        if (isArray(obj)) {\n            var props = ['__watchall__'];\n            for (var prop = 0; prop < obj.length; prop++) {\n                props.push(prop);\n            }\n            unwatchMany(obj, props, watcher);\n        } else {\n            var unwatchPropsInObject = function (obj2) {\n                var props = [];\n                for (var prop2 in obj2) {\n                    if (obj2.hasOwnProperty(prop2)) {\n                        if (obj2[prop2] instanceof Object) {\n                            unwatchPropsInObject(obj2[prop2]);\n                        } else {\n                            props.push(prop2);\n                        }\n                    }\n                }\n                unwatchMany(obj2, props, watcher);\n            };\n            unwatchPropsInObject(obj);\n        }\n    };\n\n\n    var unwatchMany = function (obj, props, watcher) {\n\n        for (var prop2 in props) {\n            if (props.hasOwnProperty(prop2)) {\n                unwatchOne(obj, props[prop2], watcher);\n            }\n        }\n    };\n\n    var timeouts = [],\n        timerID = null;\n    function clearTimerID() {\n        timerID = null;\n        for(var i=0; i< timeouts.length; i++) {\n            timeouts[i]();\n        }\n        timeouts.length = 0;\n    }\n    var getTimerID= function () {\n        if (!timerID)  {\n            timerID = setTimeout(clearTimerID);\n        }\n        return timerID;\n    }\n    var registerTimeout = function(fn) {\n        if (timerID==null) getTimerID();\n        timeouts[timeouts.length] = fn;\n    }\n\n   \n   \n   \n   \n   \n    var trackChange = function() {\n        var fn = (isFunction(arguments[2])) ? trackProperty : trackObject ;\n        fn.apply(this,arguments);\n    }\n\n   \n    var trackObject= function(obj, callback, recursive, addNRemove) {\n        var change = null,lastTimerID = -1;\n        var isArr = isArray(obj);\n        var level,fn = function(prop, action, newValue, oldValue) {\n            var timerID = getTimerID();\n            if (lastTimerID!==timerID) {\n                lastTimerID = timerID;\n                change = {\n                    type: 'update'\n                }\n                change['value'] = obj;\n                change['splices'] = null;\n                registerTimeout(function() {\n                    callback.call(this,change);\n                    change = null;\n                });\n            }\n           \n            if (isArr && obj === this && change !== null)  {\n                if (action==='pop'||action==='shift') {\n                    newValue = [];\n                    oldValue = [oldValue];\n                }\n                else if (action==='push'||action==='unshift') {\n                    newValue = [newValue];\n                    oldValue = [];\n                }\n                else if (action!=='splice') {\n                    return;\n                }\n                if (!change.splices) change.splices = [];\n                change.splices[change.splices.length] = {\n                    index: prop,\n                    deleteCount: oldValue ? oldValue.length : 0,\n                    addedCount: newValue ? newValue.length : 0,\n                    added: newValue,\n                    deleted: oldValue\n                };\n            }\n\n        }\n        level = (recursive==true) ? undefined : 0;\n        watchAll(obj,fn, level, addNRemove);\n    }\n\n   \n    var trackProperty = function(obj,prop,callback,recursive, addNRemove) {\n        if (obj && prop) {\n            watchOne(obj,prop,function(prop, action, newvalue, oldvalue) {\n                var change = {\n                    type: 'update'\n                }\n                change['value'] = newvalue;\n                change['oldvalue'] = oldvalue;\n                if (recursive && isObject(newvalue)||isArray(newvalue)) {\n                    trackObject(newvalue,callback,recursive, addNRemove);\n                }\n                callback.call(this,change);\n            },0)\n\n            if (recursive && isObject(obj[prop])||isArray(obj[prop])) {\n                trackObject(obj[prop],callback,recursive, addNRemove);\n            }\n        }\n    }\n\n\n    var defineWatcher = function (obj, prop, watcher, level) {\n        var newWatcher = false;\n        var isArr = isArray(obj);\n\n        if (!obj.watchers) {\n            defineProp(obj, \"watchers\", {});\n            if (isArr) {\n               \n                watchFunctions(obj, function(index,action,newValue, oldValue) {\n                    addPendingChange(obj, index, action,newValue, oldValue);\n                    if (level !== 0 && newValue && (isObject(newValue) || isArray(newValue))) {\n                        var i,n, ln, wAll, watchList = obj.watchers[prop];\n                        if ((wAll = obj.watchers['__watchall__'])) {\n                            watchList = watchList ? watchList.concat(wAll) : wAll;\n                        }\n                        ln = watchList ?  watchList.length : 0;\n                        for (i = 0; i<ln; i++) {\n                            if (action!=='splice') {\n                                watchAll(newValue, watchList[i], (level===undefined)?level:level-1);\n                            }\n                            else {\n                               \n                                for(n=0; n < newValue.length; n++) {\n                                    watchAll(newValue[n], watchList[i], (level===undefined)?level:level-1);\n                                }\n                            }\n                        }\n                    }\n                });\n            }\n        }\n\n        if (!obj.watchers[prop]) {\n            obj.watchers[prop] = [];\n            if (!isArr) newWatcher = true;\n        }\n\n        for (var i=0; i<obj.watchers[prop].length; i++) {\n            if(obj.watchers[prop][i] === watcher){\n                return;\n            }\n        }\n\n        obj.watchers[prop].push(watcher);\n\n        if (newWatcher) {\n            var val = obj[prop];\n            var getter = function () {\n                return val;\n            };\n\n            var setter = function (newval, delayWatcher) {\n                var oldval = val;\n                val = newval;\n                if (level !== 0\n                    && obj[prop] && (isObject(obj[prop]) || isArray(obj[prop]))\n                    && !obj[prop].watchers) {\n                   \n                    var i,ln = obj.watchers[prop].length;\n                    for(i=0; i<ln; i++) {\n                        watchAll(obj[prop], obj.watchers[prop][i], (level===undefined)?level:level-1);\n                    }\n                }\n\n               \n\n                if (isSuspended(obj, prop)) {\n                    resume(obj, prop);\n                    return;\n                }\n\n                if (!WatchJS.noMore){\n                   \n                    if (oldval !== newval) {\n                        if (!delayWatcher) {\n                            callWatchers(obj, prop, \"set\", newval, oldval);\n                        }\n                        else {\n                            addPendingChange(obj, prop, \"set\", newval, oldval);\n                        }\n                        WatchJS.noMore = false;\n                    }\n                }\n            };\n\n            if (WatchJS.useDirtyCheck) {\n                observeDirtyChanges(obj,prop,setter);\n            }\n            else {\n                defineGetAndSet(obj, prop, getter, setter);\n            }\n        }\n\n    };\n\n    var callWatchers = function (obj, prop, action, newval, oldval) {\n        if (prop !== undefined) {\n            var ln, wl, watchList = obj.watchers[prop];\n            if ((wl = obj.watchers['__watchall__'])) {\n                watchList = watchList ? watchList.concat(wl) : wl;\n            }\n            ln = watchList ? watchList.length : 0;\n            for (var wr=0; wr< ln; wr++) {\n                watchList[wr].call(obj, prop, action, newval, oldval);\n            }\n        } else {\n            for (var prop in obj) {//call all\n                if (obj.hasOwnProperty(prop)) {\n                    callWatchers(obj, prop, action, newval, oldval);\n                }\n            }\n        }\n    };\n\n    var methodNames = ['pop', 'push', 'reverse', 'shift', 'sort', 'slice', 'unshift', 'splice'];\n    var defineArrayMethodWatcher = function (obj, original, methodName, callback) {\n        defineProp(obj, methodName, function () {\n            var index = 0;\n            var i,newValue, oldValue, response;\n           \n            if (methodName === 'splice') {\n                var start = arguments[0];\n                var end = start + arguments[1];\n                oldValue = obj.slice(start,end);\n                newValue = [];\n                for(i=2;i<arguments.length;i++) {\n                    newValue[i-2] = arguments[i];\n                }\n                index = start;\n            }\n            else {\n                newValue = arguments.length > 0 ? arguments[0] : undefined;\n            }\n\n            response = original.apply(obj, arguments);\n            if (methodName !== 'slice') {\n                if (methodName === 'pop') {\n                    oldValue = response;\n                    index = obj.length;\n                }\n                else if (methodName === 'push') {\n                    index = obj.length-1;\n                }\n                else if (methodName === 'shift') {\n                    oldValue = response;\n                }\n                else if (methodName !== 'unshift' && newValue===undefined) {\n                    newValue = response;\n                }\n                callback.call(obj, index, methodName,newValue, oldValue)\n            }\n            return response;\n        });\n    };\n\n    var watchFunctions = function(obj, callback) {\n\n        if (!isFunction(callback) || !obj || (obj instanceof String) || (!isArray(obj))) {\n            return;\n        }\n\n        for (var i = methodNames.length, methodName; i--;) {\n            methodName = methodNames[i];\n            defineArrayMethodWatcher(obj, obj[methodName], methodName, callback);\n        }\n\n    };\n\n    var unwatchOne = function (obj, prop, watcher) {\n        if (obj.watchers[prop]) {\n            if (watcher===undefined) {\n                delete obj.watchers[prop];\n            }\n            else {\n                for (var i=0; i<obj.watchers[prop].length; i++) {\n                    var w = obj.watchers[prop][i];\n\n                    if (w == watcher) {\n                        obj.watchers[prop].splice(i, 1);\n                    }\n                }\n            }\n        }\n        removeFromLengthSubjects(obj, prop, watcher);\n        removeFromDirtyChecklist(obj, prop);\n    };\n\n   \n    var suspend = function(obj, prop) {\n        if (obj.watchers) {\n            var name = '__wjs_suspend__'+(prop!==undefined ? prop : '');\n            obj.watchers[name] = true;\n        }\n    }\n\n    var isSuspended = function(obj, prop) {\n        return obj.watchers\n            && (obj.watchers['__wjs_suspend__'] ||\n            obj.watchers['__wjs_suspend__'+prop]);\n    }\n\n   \n    var resume = function(obj, prop) {\n        registerTimeout(function() {\n            delete obj.watchers['__wjs_suspend__'];\n            delete obj.watchers['__wjs_suspend__'+prop];\n        })\n    }\n\n    var pendingTimerID = null;\n    var addPendingChange = function(obj,prop, mode, newval, oldval) {\n        pendingChanges[pendingChanges.length] = {\n            obj:obj,\n            prop: prop,\n            mode: mode,\n            newval: newval,\n            oldval: oldval\n        };\n        if (pendingTimerID===null) {\n            pendingTimerID = setTimeout(applyPendingChanges);\n        }\n    };\n\n\n    var applyPendingChanges = function()  {\n       \n        var change = null;\n        pendingTimerID = null;\n        for(var i=0;i < pendingChanges.length;i++) {\n            change = pendingChanges[i];\n            callWatchers(change.obj, change.prop, change.mode, change.newval, change.oldval);\n        }\n        if (change) {\n            pendingChanges = [];\n            change = null;\n        }\n    }\n\n    var loop = function(){\n\n       \n        for(var i=0; i<lengthsubjects.length; i++) {\n\n            var subj = lengthsubjects[i];\n\n            if (subj.prop === \"$$watchlengthsubjectroot\") {\n\n                var difference = getObjDiff(subj.obj, subj.actual);\n\n                if(difference.added.length || difference.removed.length){\n                    if(difference.added.length){\n                        watchMany(subj.obj, difference.added, subj.watcher, subj.level - 1, true);\n                    }\n\n                    subj.watcher.call(subj.obj, \"root\", \"differentattr\", difference, subj.actual);\n                }\n                subj.actual = clone(subj.obj);\n\n\n            } else {\n\n                var difference = getObjDiff(subj.obj[subj.prop], subj.actual);\n\n                if(difference.added.length || difference.removed.length){\n                    if(difference.added.length){\n                        for (var j=0; j<subj.obj.watchers[subj.prop].length; j++) {\n                            watchMany(subj.obj[subj.prop], difference.added, subj.obj.watchers[subj.prop][j], subj.level - 1, true);\n                        }\n                    }\n\n                    callWatchers(subj.obj, subj.prop, \"differentattr\", difference, subj.actual);\n                }\n\n                subj.actual = clone(subj.obj[subj.prop]);\n\n            }\n\n        }\n\n       \n        var n, value;\n        if (dirtyChecklist.length > 0) {\n            for (var i = 0; i < dirtyChecklist.length; i++) {\n                n = dirtyChecklist[i];\n                value = n.object[n.prop];\n                if (!compareValues(n.orig, value)) {\n                    n.orig = clone(value);\n                    n.callback(value);\n                }\n            }\n        }\n\n    };\n\n    var compareValues =  function(a,b) {\n        var i, state = true;\n        if (a!==b)  {\n            if (isObject(a)) {\n                for(i in a) {\n                    if (!supportDefineProperty && i==='watchers') continue;\n                    if (a[i]!==b[i]) {\n                        state = false;\n                        break;\n                    };\n                }\n            }\n            else {\n                state = false;\n            }\n        }\n        return state;\n    }\n\n    var pushToLengthSubjects = function(obj, prop, watcher, level){\n\n        var actual;\n\n        if (prop === \"$$watchlengthsubjectroot\") {\n            actual =  clone(obj);\n        } else {\n            actual = clone(obj[prop]);\n        }\n\n        lengthsubjects.push({\n            obj: obj,\n            prop: prop,\n            actual: actual,\n            watcher: watcher,\n            level: level\n        });\n    };\n\n    var removeFromLengthSubjects = function(obj, prop, watcher){\n\n        for (var i=0; i<lengthsubjects.length; i++) {\n            var subj = lengthsubjects[i];\n\n            if (subj.obj == obj && subj.prop == prop && subj.watcher == watcher) {\n                lengthsubjects.splice(i, 1);\n            }\n        }\n\n    };\n\n    var removeFromDirtyChecklist = function(obj, prop){\n        var notInUse;\n        for (var i=0; i<dirtyChecklist.length; i++) {\n            var n = dirtyChecklist[i];\n            var watchers = n.object.watchers;\n            notInUse = (\n                n.object == obj\n                && n.prop == prop\n                && watchers\n                && ( !watchers[prop] || watchers[prop].length == 0 )\n            );\n            if (notInUse)  {\n                dirtyChecklist.splice(i, 1);\n            }\n        }\n\n    };\n\n    setInterval(loop, 50);\n\n    WatchJS.watch = watch;\n    WatchJS.unwatch = unwatch;\n    WatchJS.callWatchers = callWatchers;\n    WatchJS.suspend = suspend;\n    WatchJS.onChange = trackChange; \n\n    return WatchJS;\n\n}));\n\n\n\n\n\nvar CacheService = function (options) {\n    this.options = $.extend({}, this.DEFAULTS, options);\n};\n\nCacheService.prototype.VERSION = '0.0.1'\nCacheService.prototype.DEFAULTS = {}\n\nCacheService.prototype.instance = null;\nCacheService.prototype.getInstance = function (options) {\n    if (CacheService.prototype.instance === undefined || CacheService.prototype.instance === null) {\n        CacheService.prototype.instance = new CacheService(options);\n    }\n    return CacheService.prototype.instance;\n}\n\nCacheService.prototype.set = function (name, value) {\n    if (typeof value === 'object') {\n        eval(\"localStorage.\".concat(name) + \" = JSON.stringify(value);\");\n    } else {\n        eval(\"localStorage.\".concat(name) + \" = value;\");\n    }\n}\n\n\nCacheService.prototype.get = function (path) {\n    var value = CacheService.prototype.byString(localStorage, path);\n    try {\n        value = JSON.parse(value);\n    } catch (e) {\n    }\n    return value;\n}\n\nCacheService.prototype.byString = function (o, s) {\n    s = s.replace(/\\[(\\w+)\\]/g, '.$1');\n    s = s.replace(/^\\./, '');          \n    var a = s.split('.');\n    for (var i = 0, n = a.length; i < n; ++i) {\n        var k = a[i];\n        if (k in o) {\n            o = o[k];\n        } else {\n            return;\n        }\n    }\n    return o;\n};\n\n\n\n\nvar UrlService = function (options) {\n    this.options = $.extend({}, this.DEFAULTS, options);\n};\n\nUrlService.prototype.VERSION = '0.0.1'\nUrlService.prototype.DEFAULTS = {}\n\nUrlService.prototype.instance = null;\n\nUrlService.prototype.getInstance = function (options) {\n    if (UrlService.prototype.instance === undefined || UrlService.prototype.instance === null) {\n        UrlService.prototype.instance = new UrlService(options);\n    }\n    return UrlService.prototype.instance;\n}\n\nUrlService.prototype.topbar = function (callback) {\n    var data = $.service(\"cache\").get('threeds_header_topbar_url');\n    if ((data === undefined || data === null || data === false) || Setting3DS.prototype.getInstance().get('debug') === true) {\n        $.ajaxSetup({\n            crossDomain: true,\n            xhrFields: {\n                withCredentials: true\n            }\n        });\n        $.ajax({\n            type: \"GET\",\n            crossDomain: true,\n            dataType: \"json\",\n            url: this.getTopbarInfoApiURL(),\n            success: function (data) {\n                $.service(\"cache\").set('threeds_header_topbar_url', data);\n                callback(data);\n            },\n            error: function (resultat, statut, erreur) {\n                $(document).trigger(\"UrlServiceErrorEvent\", [UrlService.prototype.instance, 'topbar', callback]);\n                callback(false)\n            }\n        });\n    } else {\n        callback(data);\n    }\n}\n\nUrlService.prototype.getTopbarInfoApiURL = function () {\n    if ((Setting3DS.prototype.getInstance().get('atg.apiURL').indexOf('localhost') > -1)) {\n        return Setting3DS.prototype.getInstance().get('atg.apiURL') + \"/api/get-topbar-urls/success.json\";\n    }\n    return Setting3DS.prototype.getInstance().get('atg.apiURL') + \"/data/jsp/links/getTopbarURLs.jsp\";\n}\n\n\n\n\nvar UserService = function (options) {\n    this.options = $.extend({}, this.DEFAULTS, options);\n};\n\nUserService.prototype.VERSION = '0.0.1'\nUserService.prototype.DEFAULTS = {}\n\nUserService.prototype.instance = null;\n\nUserService.prototype.getInstance = function (options) {\n    if (UserService.prototype.instance === undefined || UserService.prototype.instance === null) {\n        UserService.prototype.instance = new UserService(options);\n    }\n    return UserService.prototype.instance;\n}\n\nUserService.prototype.info = function (callback) {\n    $.ajaxSetup({\n        crossDomain: true,\n        xhrFields: {\n            withCredentials: true\n        }\n    });\n    $.ajax({\n        type: \"GET\",\n        crossDomain: true,\n        dataType: \"json\",\n        url: this.getUserInfoApiURL(),\n        success: function (data) {\n            callback(data)\n        },\n        error: function (resultat, statut, erreur) {\n            callback(false)\n        }\n    });\n}\n\nUserService.prototype.getUserInfoApiURL = function () {\n    if ((Setting3DS.prototype.getInstance().get('atg.apiURL').indexOf('localhost') > -1)) {\n        return Setting3DS.prototype.getInstance().get('atg.apiURL') + \"/api/get-user-info/success.json\";\n    }\n    return Setting3DS.prototype.getInstance().get('atg.apiURL') + \"/data/jsp/users/getUserInfo.jsp\";\n}"],"sourceRoot":"/source/"}